2025-11-16 10:18:23,090 WARNING No se encontró config_equipos.json, creando desde ejemplo...
2025-11-16 10:18:23,090 INFO Configuración guardada en config_equipos.json
2025-11-16 10:18:23,090 INFO Configuración creada desde config_equipos.example.json
2025-11-16 10:18:33,007 ERROR No se encontraron credenciales de Firebase
2025-11-16 11:02:51,152 INFO Configuración cargada desde config_equipos.json
2025-11-16 11:02:51,165 INFO Tema aplicado: claro
2025-11-16 11:02:51,195 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 11:02:51,195 INFO Cliente de Firestore creado correctamente
2025-11-16 11:02:51,196 INFO Firebase Manager inicializado correctamente
2025-11-16 11:02:51,197 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 11:02:51,197 INFO Backup Manager inicializado correctamente
2025-11-16 11:02:51,401 INFO Ventana principal creada y mostrada
2025-11-16 11:02:51,541 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 11:02:51,847 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 11:02:51,970 INFO Obtenidos 12 equipos
2025-11-16 11:02:52,077 ERROR Error al obtener entidades: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 11:02:52,189 ERROR Error al obtener entidades: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 11:02:56,402 INFO Iniciando backup automático...
2025-11-16 11:02:56,402 INFO Iniciando proceso de backup...
2025-11-16 11:02:56,505 INFO Obtenidos 12 equipos
2025-11-16 11:02:56,506 INFO Backup de 12 equipos completado
2025-11-16 11:02:56,728 INFO Obtenidas 222 transacciones
2025-11-16 11:02:56,730 INFO Backup de 222 transacciones completado
2025-11-16 11:02:56,848 INFO Obtenidas 36 entidades (tipo=None)
2025-11-16 11:02:56,849 INFO Backup de 36 entidades completado
2025-11-16 11:02:56,954 INFO Obtenidos 12 mantenimientos
2025-11-16 11:02:56,954 INFO Backup de 12 mantenimientos completado
2025-11-16 11:02:57,095 INFO Obtenidos 62 pagos a operadores
2025-11-16 11:02:57,096 INFO Backup de 62 pagos a operadores completado
2025-11-16 11:02:57,101 INFO Backup completado exitosamente en: ./backups/equipos_backup.db
2025-11-16 11:02:57,101 INFO Total de registros: 344
2025-11-16 11:02:57,102 INFO Configuración guardada en config_equipos.json
2025-11-16 11:02:57,102 INFO Backup automático completado
2025-11-16 11:03:02,291 INFO Configuración guardada en config_equipos.json
2025-11-16 11:03:07,265 INFO Configuración guardada en config_equipos.json
2025-11-16 11:03:11,397 INFO Configuración guardada en config_equipos.json
2025-11-16 11:03:14,551 INFO Configuración guardada en config_equipos.json
2025-11-16 11:03:21,799 INFO Aplicación finalizada con exit_code=0
2025-11-16 11:44:14,548 INFO Configuración cargada desde config_equipos.json
2025-11-16 11:44:14,561 INFO Tema aplicado: Oscuro
2025-11-16 11:44:14,614 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 11:44:14,614 INFO Cliente de Firestore creado correctamente
2025-11-16 11:44:14,614 INFO Firebase Manager inicializado correctamente
2025-11-16 11:44:14,614 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 11:44:14,614 INFO Backup Manager inicializado correctamente
2025-11-16 11:44:15,766 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 11:44:16,076 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 11:44:16,242 ERROR Error al obtener entidades: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 11:44:16,377 ERROR Error al obtener entidades: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 11:44:16,508 INFO Obtenidos 12 equipos
2025-11-16 11:44:16,653 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 11:44:16,770 INFO Obtenidas 0 transacciones
2025-11-16 11:44:16,921 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 11:44:17,018 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 11:44:17,156 INFO Obtenidos 12 equipos
2025-11-16 11:44:17,285 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 11:44:17,423 INFO Obtenidos 0 pagos a operadores
2025-11-16 11:44:17,515 INFO Obtenidos 3 pagos a operadores
2025-11-16 11:44:17,663 INFO Obtenidos 3 pagos a operadores
2025-11-16 11:44:17,795 ERROR Error al obtener entidades: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 11:44:17,932 INFO Obtenidos 3 pagos a operadores
2025-11-16 11:44:18,032 INFO Obtenidos 12 equipos
2025-11-16 11:44:18,147 INFO Obtenidos 3 pagos a operadores
2025-11-16 11:44:19,031 INFO Ventana principal creada y mostrada
2025-11-16 11:44:19,185 INFO Obtenidos 12 equipos
2025-11-16 11:44:19,291 ERROR Error al obtener entidades: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 11:44:19,407 ERROR Error al obtener entidades: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 11:44:19,515 INFO Obtenidos 12 equipos
2025-11-16 11:44:19,618 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 11:44:19,737 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 11:44:19,848 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCgoGcGFnYWRvEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 11:44:56,740 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 11:44:59,464 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaDQoJZXF1aXBvX2lkEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:20:10,787 INFO Configuración cargada desde config_equipos.json
2025-11-16 12:20:10,806 INFO Tema aplicado: Oscuro
2025-11-16 12:20:10,836 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 12:20:10,837 INFO Cliente de Firestore creado correctamente
2025-11-16 12:20:10,837 INFO Firebase Manager inicializado correctamente
2025-11-16 12:20:10,838 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 12:20:10,838 INFO Backup Manager inicializado correctamente
2025-11-16 12:20:11,572 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 12:20:11,729 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 12:20:11,862 ERROR Error al obtener entidades: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 12:20:12,227 ERROR Error al obtener entidades: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 12:20:12,358 INFO Obtenidos 12 equipos
2025-11-16 12:20:12,472 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:20:12,588 INFO Obtenidas 0 transacciones
2025-11-16 12:20:12,719 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:20:12,814 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:20:12,982 INFO Obtenidos 12 equipos
2025-11-16 12:20:13,086 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:20:13,205 INFO Obtenidos 0 pagos a operadores
2025-11-16 12:20:13,326 INFO Obtenidos 3 pagos a operadores
2025-11-16 12:20:13,437 INFO Obtenidos 3 pagos a operadores
2025-11-16 12:20:13,557 ERROR Error al obtener entidades: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 12:20:13,697 INFO Obtenidos 3 pagos a operadores
2025-11-16 12:20:13,818 INFO Obtenidos 12 equipos
2025-11-16 12:20:13,925 INFO Obtenidos 3 pagos a operadores
2025-11-16 12:20:14,038 INFO Ventana principal creada y mostrada
2025-11-16 12:20:14,179 INFO Obtenidos 12 equipos
2025-11-16 12:20:14,301 ERROR Error al obtener entidades: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 12:20:14,399 ERROR Error al obtener entidades: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 12:20:14,522 INFO Obtenidos 12 equipos
2025-11-16 12:20:14,633 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:20:14,756 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:20:14,874 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCgoGcGFnYWRvEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:25:35,056 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:34:45,792 INFO Aplicación finalizada con exit_code=0
2025-11-16 12:35:31,887 INFO Configuración cargada desde config_equipos.json
2025-11-16 12:35:31,903 INFO Tema aplicado: Oscuro
2025-11-16 12:35:31,932 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 12:35:31,932 INFO Cliente de Firestore creado correctamente
2025-11-16 12:35:31,932 INFO Firebase Manager inicializado correctamente
2025-11-16 12:35:31,933 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 12:35:31,933 INFO Backup Manager inicializado correctamente
2025-11-16 12:35:32,319 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 12:35:32,464 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 12:35:32,594 ERROR Error al obtener entidades: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 12:35:32,714 ERROR Error al obtener entidades: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 12:35:32,841 INFO Obtenidos 12 equipos
2025-11-16 12:35:32,953 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:35:33,067 INFO Obtenidas 0 transacciones
2025-11-16 12:35:33,176 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:35:33,292 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:35:33,407 INFO Obtenidos 12 equipos
2025-11-16 12:35:33,521 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:35:33,643 INFO Obtenidos 0 pagos a operadores
2025-11-16 12:35:33,752 INFO Obtenidos 3 pagos a operadores
2025-11-16 12:35:33,865 INFO Obtenidos 3 pagos a operadores
2025-11-16 12:35:33,988 ERROR Error al obtener entidades: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 12:35:34,092 INFO Obtenidos 3 pagos a operadores
2025-11-16 12:35:34,216 INFO Obtenidos 12 equipos
2025-11-16 12:35:34,329 INFO Obtenidos 3 pagos a operadores
2025-11-16 12:35:34,447 INFO Ventana principal creada y mostrada
2025-11-16 12:35:34,568 INFO Obtenidos 12 equipos
2025-11-16 12:35:34,685 ERROR Error al obtener entidades: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 12:35:34,791 ERROR Error al obtener entidades: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 12:35:34,913 INFO Obtenidos 12 equipos
2025-11-16 12:35:35,026 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:35:35,133 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:35:35,248 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCgoGcGFnYWRvEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:35:49,198 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:48:02,018 INFO Configuración cargada desde config_equipos.json
2025-11-16 12:48:02,035 INFO Tema aplicado: Oscuro
2025-11-16 12:48:02,068 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 12:48:02,069 INFO Cliente de Firestore creado correctamente
2025-11-16 12:48:02,069 INFO Firebase Manager inicializado correctamente
2025-11-16 12:48:02,069 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 12:48:02,070 INFO Backup Manager inicializado correctamente
2025-11-16 12:48:02,824 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 12:48:03,007 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 12:48:03,148 INFO Obtenidas 21 entidades (tipo=Cliente)
2025-11-16 12:48:03,373 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 12:48:03,506 INFO Obtenidos 12 equipos
2025-11-16 12:48:03,644 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:48:03,762 INFO Obtenidas 0 transacciones
2025-11-16 12:48:03,880 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:48:04,029 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:48:04,156 INFO Obtenidos 12 equipos
2025-11-16 12:48:04,269 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:48:04,384 INFO Obtenidos 0 pagos a operadores
2025-11-16 12:48:04,508 INFO Obtenidos 3 pagos a operadores
2025-11-16 12:48:04,634 INFO Obtenidos 3 pagos a operadores
2025-11-16 12:48:04,761 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 12:48:04,884 INFO Obtenidos 3 pagos a operadores
2025-11-16 12:48:05,008 INFO Obtenidos 12 equipos
2025-11-16 12:48:05,120 INFO Obtenidos 3 pagos a operadores
2025-11-16 12:48:05,212 INFO Ventana principal creada y mostrada
2025-11-16 12:48:05,356 INFO Obtenidos 12 equipos
2025-11-16 12:48:05,499 INFO Obtenidas 21 entidades (tipo=Cliente)
2025-11-16 12:48:05,614 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 12:48:05,749 INFO Obtenidos 12 equipos
2025-11-16 12:48:05,854 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:48:05,961 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:48:06,057 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCgoGcGFnYWRvEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:48:17,611 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:49:07,411 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:49:39,696 INFO Aplicación finalizada con exit_code=0
2025-11-16 12:55:54,819 INFO Configuración cargada desde config_equipos.json
2025-11-16 12:55:54,836 INFO Tema aplicado: Oscuro
2025-11-16 12:55:54,870 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 12:55:54,870 INFO Cliente de Firestore creado correctamente
2025-11-16 12:55:54,870 INFO Firebase Manager inicializado correctamente
2025-11-16 12:55:54,871 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 12:55:54,871 INFO Backup Manager inicializado correctamente
2025-11-16 12:55:55,353 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 12:55:55,525 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 12:55:55,660 INFO Obtenidas 21 entidades (tipo=Cliente)
2025-11-16 12:55:55,783 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 12:55:55,911 INFO Obtenidos 12 equipos
2025-11-16 12:55:56,021 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:55:56,135 INFO Obtenidas 0 transacciones
2025-11-16 12:55:56,239 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:55:56,356 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:55:56,481 INFO Obtenidos 12 equipos
2025-11-16 12:55:56,589 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:55:56,713 INFO Obtenidos 0 pagos a operadores
2025-11-16 12:55:56,828 INFO Obtenidos 3 pagos a operadores
2025-11-16 12:55:56,952 INFO Obtenidos 3 pagos a operadores
2025-11-16 12:55:57,076 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 12:55:57,173 INFO Obtenidos 3 pagos a operadores
2025-11-16 12:55:57,271 INFO Obtenidos 12 equipos
2025-11-16 12:55:57,380 INFO Obtenidos 3 pagos a operadores
2025-11-16 12:55:57,470 INFO Ventana principal creada y mostrada
2025-11-16 12:55:57,595 INFO Obtenidos 12 equipos
2025-11-16 12:55:57,709 INFO Obtenidas 21 entidades (tipo=Cliente)
2025-11-16 12:55:57,813 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 12:55:57,928 INFO Obtenidos 12 equipos
2025-11-16 12:55:58,035 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:55:58,148 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:55:58,264 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCgoGcGFnYWRvEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:56:02,956 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaDwoLb3BlcmFkb3JfaWQQARoICgR0aXBvEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
2025-11-16 12:56:09,882 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaDwoLb3BlcmFkb3JfaWQQARoICgR0aXBvEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
2025-11-16 12:56:18,209 ERROR Error al obtener transacciones: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClJwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3RyYW5zYWNjaW9uZXMvaW5kZXhlcy9fEAEaCAoEdGlwbxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 12:56:41,820 INFO Aplicación finalizada con exit_code=0
2025-11-16 13:10:06,852 INFO Configuración cargada desde config_equipos.json
2025-11-16 13:10:06,866 INFO Tema aplicado: Oscuro
2025-11-16 13:10:06,895 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 13:10:06,896 INFO Cliente de Firestore creado correctamente
2025-11-16 13:10:06,896 INFO Firebase Manager inicializado correctamente
2025-11-16 13:10:06,896 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 13:10:06,896 INFO Backup Manager inicializado correctamente
2025-11-16 13:10:07,638 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 13:10:07,787 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 13:10:07,932 INFO Obtenidas 21 entidades (tipo=Cliente)
2025-11-16 13:10:08,053 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 13:10:08,198 INFO Obtenidos 12 equipos
2025-11-16 13:10:08,313 INFO Obtenidas 13 transacciones
2025-11-16 13:10:08,416 INFO Obtenidas 0 transacciones
2025-11-16 13:10:08,547 INFO Obtenidas 12 transacciones
2025-11-16 13:10:08,668 INFO Obtenidas 12 transacciones
2025-11-16 13:10:08,792 INFO Obtenidos 12 equipos
2025-11-16 13:10:08,906 INFO Obtenidas 12 transacciones
2025-11-16 13:10:09,011 INFO Obtenidos 0 pagos a operadores
2025-11-16 13:10:09,195 INFO Obtenidos 3 pagos a operadores
2025-11-16 13:10:09,303 INFO Obtenidos 3 pagos a operadores
2025-11-16 13:10:09,427 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 13:10:09,532 INFO Obtenidos 3 pagos a operadores
2025-11-16 13:10:09,658 INFO Obtenidos 12 equipos
2025-11-16 13:10:09,772 INFO Obtenidos 3 pagos a operadores
2025-11-16 13:10:09,858 INFO Ventana principal creada y mostrada
2025-11-16 13:10:09,988 INFO Obtenidos 12 equipos
2025-11-16 13:10:10,118 INFO Obtenidas 21 entidades (tipo=Cliente)
2025-11-16 13:10:10,236 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 13:10:10,336 INFO Obtenidos 12 equipos
2025-11-16 13:10:10,467 INFO Obtenidas 9 transacciones
2025-11-16 13:10:10,586 INFO Obtenidas 5 transacciones
2025-11-16 13:10:10,776 INFO Obtenidas 253 transacciones
2025-11-16 13:10:22,266 INFO Obtenidas 290 transacciones
2025-11-16 13:19:03,994 INFO Aplicación finalizada con exit_code=0
2025-11-16 14:06:55,636 INFO Configuración cargada desde config_equipos.json
2025-11-16 14:06:55,650 INFO Tema aplicado: Oscuro
2025-11-16 14:06:55,680 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 14:06:55,680 INFO Cliente de Firestore creado correctamente
2025-11-16 14:06:55,680 INFO Firebase Manager inicializado correctamente
2025-11-16 14:06:55,681 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 14:06:55,681 INFO Backup Manager inicializado correctamente
2025-11-16 14:06:56,901 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 14:06:57,060 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 14:06:57,181 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:06:57,290 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:06:57,411 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:06:57,535 INFO Obtenidas 0 entidades (tipo=Operador)
2025-11-16 14:06:57,640 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:06:57,773 ERROR Error al obtener equipos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ckxwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VxdWlwb3MvaW5kZXhlcy9fEAEaCgoGYWN0aXZvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 14:06:57,896 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:06:57,979 INFO Ventana principal creada y mostrada
2025-11-16 14:06:58,103 ERROR Error al obtener equipos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ckxwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VxdWlwb3MvaW5kZXhlcy9fEAEaCgoGYWN0aXZvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 14:06:58,218 INFO Obtenidas 0 entidades (tipo=Cliente)
2025-11-16 14:06:58,344 INFO Obtenidas 0 entidades (tipo=Operador)
2025-11-16 14:06:58,454 INFO Obtenido mapa para [cuentas]. Total: 0 entradas.
2025-11-16 14:06:58,562 INFO Obtenido mapa para [categorias]. Total: 0 entradas.
2025-11-16 14:06:58,661 INFO Obtenido mapa para [subcategorias]. Total: 0 entradas.
2025-11-16 14:06:58,766 ERROR Error al obtener equipos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ckxwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VxdWlwb3MvaW5kZXhlcy9fEAEaCgoGYWN0aXZvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 14:06:58,783 INFO Cargando alquileres con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:06:58,915 ERROR Error al obtener alquileres: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaBwoDYW5vEAEaBwoDbWVzEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
2025-11-16 14:06:58,916 WARNING No se encontraron alquileres con esos filtros.
2025-11-16 14:06:58,916 INFO Cargando gastos con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:06:59,018 ERROR Error al obtener gastos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2dhc3Rvcy9pbmRleGVzL18QARoHCgNhbm8QARoHCgNtZXMQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
2025-11-16 14:06:59,019 WARNING No se encontraron gastos con esos filtros.
2025-11-16 14:07:19,189 INFO Aplicación finalizada con exit_code=0
2025-11-16 14:10:08,924 INFO Configuración cargada desde config_equipos.json
2025-11-16 14:10:08,939 INFO Tema aplicado: Oscuro
2025-11-16 14:10:08,969 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 14:10:08,969 INFO Cliente de Firestore creado correctamente
2025-11-16 14:10:08,969 INFO Firebase Manager inicializado correctamente
2025-11-16 14:10:08,970 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 14:10:08,970 INFO Backup Manager inicializado correctamente
2025-11-16 14:10:09,397 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 14:10:09,593 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 14:10:09,771 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:10:09,880 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:10:09,990 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:10:10,123 INFO Obtenidas 0 entidades (tipo=Operador)
2025-11-16 14:10:10,232 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:10:10,364 INFO Obtenidos 0 equipos
2025-11-16 14:10:10,485 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:10:10,591 INFO Ventana principal creada y mostrada
2025-11-16 14:10:10,725 INFO Obtenidos 0 equipos
2025-11-16 14:10:10,848 INFO Obtenidas 0 entidades (tipo=Cliente)
2025-11-16 14:10:10,949 INFO Obtenidas 0 entidades (tipo=Operador)
2025-11-16 14:10:11,082 INFO Obtenido mapa para [cuentas]. Total: 0 entradas.
2025-11-16 14:10:11,209 INFO Obtenido mapa para [categorias]. Total: 0 entradas.
2025-11-16 14:10:11,319 INFO Obtenido mapa para [subcategorias]. Total: 0 entradas.
2025-11-16 14:10:11,433 INFO Obtenidos 0 equipos
2025-11-16 14:10:11,435 INFO Cargando alquileres con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:10:11,546 ERROR Error al obtener alquileres: 400 The query requires an index. That index is currently building and cannot be used yet. See its status here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Clpwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9DSUNBZ05qcGdZSUoQARoHCgNhbm8QARoHCgNtZXMQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
2025-11-16 14:10:11,546 WARNING No se encontraron alquileres con esos filtros.
2025-11-16 14:10:11,547 INFO Cargando gastos con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:10:11,679 ERROR Error al obtener gastos: 400 The query requires an index. That index is currently building and cannot be used yet. See its status here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClZwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2dhc3Rvcy9pbmRleGVzL0NJQ0FnTmlyb0lFSxABGgcKA2FubxABGgcKA21lcxABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 14:10:11,680 WARNING No se encontraron gastos con esos filtros.
2025-11-16 14:10:34,668 INFO Aplicación finalizada con exit_code=0
2025-11-16 14:11:47,589 INFO Configuración cargada desde config_equipos.json
2025-11-16 14:11:47,605 INFO Tema aplicado: Oscuro
2025-11-16 14:11:47,637 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 14:11:47,637 INFO Cliente de Firestore creado correctamente
2025-11-16 14:11:47,637 INFO Firebase Manager inicializado correctamente
2025-11-16 14:11:47,638 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 14:11:47,638 INFO Backup Manager inicializado correctamente
2025-11-16 14:11:48,122 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 14:11:48,263 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 14:11:48,367 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:11:48,520 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:11:48,622 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:11:48,738 INFO Obtenidas 0 entidades (tipo=Operador)
2025-11-16 14:11:48,858 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:11:48,965 INFO Obtenidos 0 equipos
2025-11-16 14:11:49,058 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:11:49,161 INFO Ventana principal creada y mostrada
2025-11-16 14:11:49,443 INFO Obtenidos 0 equipos
2025-11-16 14:11:49,541 INFO Obtenidas 0 entidades (tipo=Cliente)
2025-11-16 14:11:49,664 INFO Obtenidas 0 entidades (tipo=Operador)
2025-11-16 14:11:49,786 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 14:11:49,908 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 14:11:50,068 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 14:11:50,160 INFO Obtenidos 0 equipos
2025-11-16 14:11:50,161 INFO Cargando alquileres con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:11:50,303 INFO Obtenidos 9 alquileres con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:11:50,310 INFO Cargando gastos con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:11:50,411 INFO Obtenidos 4 gastos con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:12:13,695 INFO Cargando alquileres con filtros: {'ano': 2025, 'mes': 1}
2025-11-16 14:12:13,795 INFO Obtenidos 15 alquileres con filtros: {'ano': 2025, 'mes': 1}
2025-11-16 14:12:58,306 INFO Aplicación finalizada con exit_code=0
2025-11-16 14:14:25,853 INFO Configuración cargada desde config_equipos.json
2025-11-16 14:14:25,869 INFO Tema aplicado: Oscuro
2025-11-16 14:14:25,901 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 14:14:25,901 INFO Cliente de Firestore creado correctamente
2025-11-16 14:14:25,901 INFO Firebase Manager inicializado correctamente
2025-11-16 14:14:25,902 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 14:14:25,902 INFO Backup Manager inicializado correctamente
2025-11-16 14:14:26,342 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 14:14:26,500 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 14:14:26,622 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:14:26,725 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:14:26,853 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:14:26,956 INFO Obtenidas 0 entidades (tipo=Operador)
2025-11-16 14:14:27,088 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:14:27,183 INFO Obtenidos 0 equipos
2025-11-16 14:14:27,312 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:14:27,411 INFO Ventana principal creada y mostrada
2025-11-16 14:14:27,540 INFO Obtenidos 0 equipos
2025-11-16 14:14:27,673 INFO Obtenidas 0 entidades (tipo=Cliente)
2025-11-16 14:14:27,835 INFO Obtenidas 0 entidades (tipo=Operador)
2025-11-16 14:14:27,944 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 14:14:28,078 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 14:14:28,226 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 14:14:28,312 INFO Obtenidos 0 equipos
2025-11-16 14:14:28,451 INFO Obtenidos 9 alquileres con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:14:28,554 INFO Obtenidos 4 gastos con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:14:28,655 ERROR Error al obtener alquileres: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaCgoGcGFnYWRvEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
2025-11-16 14:14:28,656 INFO Cargando alquileres con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:14:28,798 INFO Obtenidos 9 alquileres con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:14:28,803 INFO Cargando gastos con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:14:28,914 INFO Obtenidos 4 gastos con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:14:41,646 INFO Aplicación finalizada con exit_code=0
2025-11-16 14:14:49,641 INFO Configuración cargada desde config_equipos.json
2025-11-16 14:14:49,656 INFO Tema aplicado: Oscuro
2025-11-16 14:14:49,686 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 14:14:49,686 INFO Cliente de Firestore creado correctamente
2025-11-16 14:14:49,687 INFO Firebase Manager inicializado correctamente
2025-11-16 14:14:49,687 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 14:14:49,687 INFO Backup Manager inicializado correctamente
2025-11-16 14:14:50,055 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 14:14:50,197 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 14:14:50,320 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:14:50,417 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:14:50,537 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:14:50,636 INFO Obtenidas 0 entidades (tipo=Operador)
2025-11-16 14:14:50,749 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:14:50,840 INFO Obtenidos 0 equipos
2025-11-16 14:14:50,972 INFO Obtenidos 0 pagos a operadores
2025-11-16 14:14:51,068 INFO Ventana principal creada y mostrada
2025-11-16 14:14:51,182 INFO Obtenidos 0 equipos
2025-11-16 14:14:51,297 INFO Obtenidas 0 entidades (tipo=Cliente)
2025-11-16 14:14:51,397 INFO Obtenidas 0 entidades (tipo=Operador)
2025-11-16 14:14:51,515 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 14:14:51,625 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 14:14:51,768 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 14:14:51,871 INFO Obtenidos 0 equipos
2025-11-16 14:14:51,989 INFO Obtenidos 9 alquileres con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:14:52,093 INFO Obtenidos 4 gastos con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:14:52,216 ERROR Error al obtener alquileres: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaCgoGcGFnYWRvEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
2025-11-16 14:14:52,217 INFO Cargando alquileres con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:14:52,340 INFO Obtenidos 9 alquileres con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:14:52,343 INFO Cargando gastos con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:14:52,442 INFO Obtenidos 4 gastos con filtros: {'ano': 2025, 'mes': 11}
2025-11-16 14:21:35,699 INFO Aplicación finalizada con exit_code=0
2025-11-16 14:47:53,560 INFO Configuración cargada desde config_equipos.json
2025-11-16 14:47:53,575 INFO Tema aplicado: Oscuro
2025-11-16 14:47:53,604 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 14:47:53,604 INFO Cliente de Firestore creado correctamente
2025-11-16 14:47:53,604 INFO Firebase Manager inicializado correctamente
2025-11-16 14:47:53,605 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 14:47:53,605 INFO Backup Manager inicializado correctamente
2025-11-16 14:47:54,251 INFO Ventana principal creada y mostrada
2025-11-16 14:47:54,278 INFO Cargando mapas de nombres...
2025-11-16 14:47:54,443 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 14:47:54,577 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 14:47:54,710 INFO Obtenidos 0 equipos
2025-11-16 14:47:54,830 INFO Obtenidas 0 entidades (tipo=Cliente)
2025-11-16 14:47:54,933 INFO Obtenidas 0 entidades (tipo=Operador)
2025-11-16 14:47:55,068 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 14:47:55,198 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 14:47:55,360 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 14:47:55,360 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 14:47:55,360 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 14:47:55,360 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 14:47:55,360 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 14:47:55,361 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 14:47:55,361 WARNING Dashboard: Mapas aún no cargados, saltando refresco.
2025-11-16 14:47:55,361 WARNING RegistroAlquileres: Mapas no listos, saltando carga.
2025-11-16 14:47:55,361 WARNING GastosEquipos: Mapas no listos, saltando carga.
2025-11-16 14:47:55,361 WARNING PagosOperadores: Mapas no listos, saltando carga.
2025-11-16 14:48:23,068 INFO Aplicación finalizada con exit_code=0
2025-11-16 14:53:14,366 INFO Configuración cargada desde config_equipos.json
2025-11-16 14:53:14,382 INFO Tema aplicado: Oscuro
2025-11-16 14:53:14,413 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 14:53:14,413 INFO Cliente de Firestore creado correctamente
2025-11-16 14:53:14,413 INFO Firebase Manager inicializado correctamente
2025-11-16 14:53:14,414 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 14:53:14,414 INFO Backup Manager inicializado correctamente
2025-11-16 14:53:15,001 INFO Ventana principal creada y mostrada
2025-11-16 14:53:15,034 INFO Cargando mapas de nombres...
2025-11-16 14:53:15,206 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 14:53:15,405 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 14:53:15,531 INFO Obtenidos 0 equipos
2025-11-16 14:53:15,649 INFO Obtenidas 0 entidades (tipo=Cliente)
2025-11-16 14:53:15,789 INFO Obtenidas 0 entidades (tipo=Operador)
2025-11-16 14:53:15,922 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 14:53:16,052 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 14:53:16,206 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 14:53:16,206 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 14:53:16,206 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 14:53:16,206 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 14:53:16,206 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 14:53:16,206 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 14:53:16,206 WARNING Dashboard: Mapas aún no cargados, saltando refresco.
2025-11-16 14:53:16,207 WARNING RegistroAlquileres: Mapas no listos, saltando carga.
2025-11-16 14:53:16,207 WARNING GastosEquipos: Mapas no listos, saltando carga.
2025-11-16 14:53:16,207 WARNING PagosOperadores: Mapas no listos, saltando carga.
2025-11-16 14:53:39,269 WARNING RegistroAlquileres: Mapas no listos, saltando carga.
2025-11-16 14:54:48,628 WARNING PagosOperadores: Mapas no listos, saltando carga.
2025-11-16 14:54:49,131 WARNING PagosOperadores: Mapas no listos, saltando carga.
2025-11-16 15:02:04,114 INFO Aplicación finalizada con exit_code=0
2025-11-16 15:21:34,262 INFO Configuración cargada desde config_equipos.json
2025-11-16 15:21:34,280 INFO Tema aplicado: Oscuro
2025-11-16 15:21:34,315 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 15:21:34,315 INFO Cliente de Firestore creado correctamente
2025-11-16 15:21:34,315 INFO Firebase Manager inicializado correctamente
2025-11-16 15:21:34,317 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 15:21:34,317 INFO Backup Manager inicializado correctamente
2025-11-16 15:21:34,674 INFO Ventana principal creada y mostrada
2025-11-16 15:21:34,696 INFO Cargando mapas de nombres...
2025-11-16 15:21:34,854 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 15:21:35,006 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 15:21:35,228 INFO Obtenidos 12 equipos
2025-11-16 15:21:35,348 ERROR Error al obtener entidades: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 333, in obtener_entidades
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 15:21:35,409 CRITICAL Error CRÍTICO al cargar datos iniciales: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\app_gui_qt.py", line 191, in _cargar_datos_iniciales
    clientes = self.fm.obtener_entidades(tipo='Cliente', activo=None)
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 341, in obtener_entidades
    raise e # Propagar el error
    ^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 333, in obtener_entidades
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-16 15:27:10,224 INFO Aplicación finalizada con exit_code=0
2025-11-16 15:27:18,164 INFO Configuración cargada desde config_equipos.json
2025-11-16 15:27:18,181 INFO Tema aplicado: Oscuro
2025-11-16 15:27:18,214 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 15:27:18,214 INFO Cliente de Firestore creado correctamente
2025-11-16 15:27:18,214 INFO Firebase Manager inicializado correctamente
2025-11-16 15:27:18,215 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 15:27:18,215 INFO Backup Manager inicializado correctamente
2025-11-16 15:27:18,639 INFO Ventana principal creada y mostrada
2025-11-16 15:27:18,666 INFO Cargando mapas de nombres...
2025-11-16 15:27:18,816 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 15:27:18,963 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 15:27:19,105 INFO Obtenidos 12 equipos
2025-11-16 15:27:19,232 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 15:27:19,345 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 15:27:19,488 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 15:27:19,657 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 15:27:19,862 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 15:27:19,863 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 15:27:19,863 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 15:27:19,863 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 15:27:19,863 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 15:27:19,864 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 15:27:20,537 ERROR Error al obtener equipos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cldwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VxdWlwb3MvaW5kZXhlcy9DSUNBZ05pNDdvTUoQARoKCgZhY3Rpdm8QARoKCgZub21icmUQARoMCghfX25hbWVfXxAB
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 97, in obtener_equipos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cldwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VxdWlwb3MvaW5kZXhlcy9DSUNBZ05pNDdvTUoQARoKCgZhY3Rpdm8QARoKCgZub21icmUQARoMCghfX25hbWVfXxAB
2025-11-16 15:27:20,547 ERROR Error al obtener estadísticas: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cldwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VxdWlwb3MvaW5kZXhlcy9DSUNBZ05pNDdvTUoQARoKCgZhY3Rpdm8QARoKCgZub21icmUQARoMCghfX25hbWVfXxAB
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 566, in obtener_estadisticas_dashboard
    equipos_activos = len(self.obtener_equipos(activo=True))
                          ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 105, in obtener_equipos
    raise e # Propagar el error
    ^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 97, in obtener_equipos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cldwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VxdWlwb3MvaW5kZXhlcy9DSUNBZ05pNDdvTUoQARoKCgZhY3Rpdm8QARoKCgZub21icmUQARoMCghfX25hbWVfXxAB
2025-11-16 15:27:20,549 ERROR Error refrescando datos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cldwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VxdWlwb3MvaW5kZXhlcy9DSUNBZ05pNDdvTUoQARoKCgZhY3Rpdm8QARoKCgZub21icmUQARoMCghfX25hbWVfXxAB
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\dashboard_tab.py", line 157, in refrescar_datos
    kpis = self.fm.obtener_estadisticas_dashboard({'ano': anio, 'mes': mes, 'equipo_id': equipo_id})
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 578, in obtener_estadisticas_dashboard
    raise e # Propagar el error
    ^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 566, in obtener_estadisticas_dashboard
    equipos_activos = len(self.obtener_equipos(activo=True))
                          ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 105, in obtener_equipos
    raise e # Propagar el error
    ^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 97, in obtener_equipos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cldwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VxdWlwb3MvaW5kZXhlcy9DSUNBZ05pNDdvTUoQARoKCgZhY3Rpdm8QARoKCgZub21icmUQARoMCghfX25hbWVfXxAB
2025-11-16 15:27:20,552 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 15:27:20,664 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 15:27:20,666 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 15:27:20,782 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 15:27:20,783 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 15:27:20,913 INFO Obtenidos 0 pagos a operadores
2025-11-16 15:27:20,914 WARNING No se encontraron pagos con esos filtros.
2025-11-16 15:35:41,491 INFO Aplicación finalizada con exit_code=0
2025-11-16 15:36:40,607 INFO Configuración cargada desde config_equipos.json
2025-11-16 15:36:40,623 INFO Tema aplicado: Oscuro
2025-11-16 15:36:40,657 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 15:36:40,657 INFO Cliente de Firestore creado correctamente
2025-11-16 15:36:40,657 INFO Firebase Manager inicializado correctamente
2025-11-16 15:36:40,659 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 15:36:40,659 INFO Backup Manager inicializado correctamente
2025-11-16 15:36:41,055 INFO Ventana principal creada y mostrada
2025-11-16 15:36:41,082 INFO Cargando mapas de nombres...
2025-11-16 15:36:41,278 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 15:36:41,470 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 15:36:41,604 INFO Obtenidos 12 equipos
2025-11-16 15:36:41,746 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 15:36:41,893 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 15:36:42,109 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 15:36:42,250 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 15:36:42,433 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 15:36:42,433 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 15:36:42,433 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 15:36:42,433 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 15:36:42,433 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 15:36:42,434 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 15:36:42,966 INFO Obtenidos 0 equipos
2025-11-16 15:36:42,966 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 15:36:43,095 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 15:36:43,096 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 15:36:43,205 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 15:36:43,205 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 15:36:43,317 INFO Obtenidos 0 pagos a operadores
2025-11-16 15:36:43,317 WARNING No se encontraron pagos con esos filtros.
2025-11-16 15:37:11,704 INFO Cargando alquileres con filtros: {'fecha_inicio': '2024-11-06', 'fecha_fin': '2025-11-16'}
2025-11-16 15:37:11,921 INFO Obtenidos 222 alquileres con filtros: {'fecha_inicio': '2024-11-06', 'fecha_fin': '2025-11-16'}
2025-11-16 16:02:25,363 INFO Configuración cargada desde config_equipos.json
2025-11-16 16:02:25,379 INFO Tema aplicado: Oscuro
2025-11-16 16:02:25,412 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 16:02:25,412 INFO Cliente de Firestore creado correctamente
2025-11-16 16:02:25,412 INFO Firebase Manager inicializado correctamente
2025-11-16 16:02:25,413 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 16:02:25,413 INFO Backup Manager inicializado correctamente
2025-11-16 16:02:25,810 INFO Ventana principal creada y mostrada
2025-11-16 16:02:25,840 INFO Cargando mapas de nombres...
2025-11-16 16:02:26,007 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 16:02:26,225 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 16:02:26,375 INFO Obtenidos 12 equipos
2025-11-16 16:02:26,488 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 16:02:26,639 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 16:02:26,761 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 16:02:26,908 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 16:02:27,093 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 16:02:27,093 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 16:02:27,093 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 16:02:27,093 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 16:02:27,094 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 16:02:27,094 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 16:02:27,601 INFO Obtenidos 0 equipos
2025-11-16 16:02:27,601 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:02:27,745 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:02:27,746 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:02:27,879 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:02:27,880 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:02:28,096 INFO Obtenidos 0 pagos a operadores
2025-11-16 16:02:28,096 WARNING No se encontraron pagos con esos filtros.
2025-11-16 16:02:36,103 INFO Obtenidos 0 equipos
2025-11-16 16:02:38,186 INFO Obtenidos 0 equipos
2025-11-16 16:04:43,233 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:04:43,473 INFO Obtenidos 222 alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:05:27,731 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'cliente_id': '38'}
2025-11-16 16:05:27,857 ERROR Error al obtener alquileres: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 184, in obtener_alquileres
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 16:05:27,862 ERROR Error al cargar alquileres: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\registro_alquileres_tab.py", line 241, in _cargar_alquileres
    self.alquileres_cargados = self.fm.obtener_alquileres(filtros)
                               ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 194, in obtener_alquileres
    raise e # Propagar el error
    ^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 184, in obtener_alquileres
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 16:22:11,151 INFO Configuración cargada desde config_equipos.json
2025-11-16 16:22:11,167 INFO Tema aplicado: Oscuro
2025-11-16 16:22:11,202 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 16:22:11,202 INFO Cliente de Firestore creado correctamente
2025-11-16 16:22:11,202 INFO Firebase Manager inicializado correctamente
2025-11-16 16:22:11,203 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 16:22:11,203 INFO Backup Manager inicializado correctamente
2025-11-16 16:22:11,611 INFO Ventana principal creada y mostrada
2025-11-16 16:22:11,635 INFO Cargando mapas de nombres...
2025-11-16 16:22:11,775 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 16:22:11,916 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 16:22:12,048 INFO Obtenidos 12 equipos
2025-11-16 16:22:12,173 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 16:22:12,280 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 16:22:12,508 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 16:22:12,634 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 16:22:12,818 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 16:22:12,818 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 16:22:12,819 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 16:22:12,819 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 16:22:12,819 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 16:22:12,820 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 16:22:13,313 INFO Obtenidos 0 equipos
2025-11-16 16:22:13,314 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:22:13,416 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:22:13,417 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:22:13,540 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:22:13,540 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:22:13,774 INFO Obtenidos 0 pagos a operadores
2025-11-16 16:22:13,774 WARNING No se encontraron pagos con esos filtros.
2025-11-16 16:22:27,154 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-02-06', 'fecha_fin': '2025-11-16'}
2025-11-16 16:22:27,350 INFO Obtenidos 200 alquileres con filtros: {'fecha_inicio': '2025-02-06', 'fecha_fin': '2025-11-16'}
2025-11-16 16:22:43,580 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2024-11-05', 'fecha_fin': '2025-11-16'}
2025-11-16 16:22:43,698 INFO Obtenidos 0 pagos a operadores
2025-11-16 16:22:43,698 WARNING No se encontraron pagos con esos filtros.
2025-11-16 16:23:00,462 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:23:00,680 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:24:17,199 INFO Obtenidos 0 equipos
2025-11-16 16:24:19,618 INFO Obtenidos 0 equipos
2025-11-16 16:24:32,889 INFO Configuración guardada en config_equipos.json
2025-11-16 16:24:42,318 INFO Aplicación finalizada con exit_code=0
2025-11-16 16:26:59,833 INFO Configuración cargada desde config_equipos.json
2025-11-16 16:26:59,850 INFO Tema aplicado: Azul Corporativo
2025-11-16 16:26:59,883 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 16:26:59,883 INFO Cliente de Firestore creado correctamente
2025-11-16 16:26:59,883 INFO Firebase Manager inicializado correctamente
2025-11-16 16:26:59,884 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 16:26:59,884 INFO Backup Manager inicializado correctamente
2025-11-16 16:27:00,293 INFO Ventana principal creada y mostrada
2025-11-16 16:27:00,325 INFO Cargando mapas de nombres...
2025-11-16 16:27:00,531 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 16:27:00,674 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 16:27:00,853 INFO Obtenidos 12 equipos
2025-11-16 16:27:00,988 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 16:27:01,099 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 16:27:01,218 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 16:27:01,404 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 16:27:01,601 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 16:27:01,601 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 16:27:01,601 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 16:27:01,601 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 16:27:01,602 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 16:27:01,602 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 16:27:02,169 INFO Obtenidos 0 equipos
2025-11-16 16:27:02,169 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:27:02,298 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:27:02,299 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:27:02,414 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:27:02,415 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:27:02,511 INFO Obtenidos 0 pagos a operadores
2025-11-16 16:27:02,511 WARNING No se encontraron pagos con esos filtros.
2025-11-16 16:27:10,827 INFO Aplicación finalizada con exit_code=0
2025-11-16 16:28:27,971 INFO Configuración cargada desde config_equipos.json
2025-11-16 16:28:27,988 INFO Tema aplicado: Azul Corporativo
2025-11-16 16:28:28,022 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 16:28:28,022 INFO Cliente de Firestore creado correctamente
2025-11-16 16:28:28,022 INFO Firebase Manager inicializado correctamente
2025-11-16 16:28:28,023 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 16:28:28,023 INFO Backup Manager inicializado correctamente
2025-11-16 16:28:28,517 INFO Ventana principal creada y mostrada
2025-11-16 16:28:28,554 INFO Cargando mapas de nombres...
2025-11-16 16:28:28,731 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 16:28:28,891 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 16:28:29,020 INFO Obtenidos 12 equipos
2025-11-16 16:28:29,136 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 16:28:29,250 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 16:28:29,381 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 16:28:29,513 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 16:28:29,706 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 16:28:29,706 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 16:28:29,706 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 16:28:29,706 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 16:28:29,707 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 16:28:29,707 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 16:28:30,188 INFO Obtenidos 0 equipos
2025-11-16 16:28:30,188 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:28:30,337 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:28:30,338 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:28:30,442 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:28:30,442 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:28:30,564 INFO Obtenidos 0 pagos a operadores
2025-11-16 16:28:30,564 WARNING No se encontraron pagos con esos filtros.
2025-11-16 16:29:45,607 INFO Aplicación finalizada con exit_code=0
2025-11-16 16:56:40,774 INFO Configuración cargada desde config_equipos.json
2025-11-16 16:56:40,788 INFO Tema aplicado: Azul Corporativo
2025-11-16 16:56:40,816 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 16:56:40,817 INFO Cliente de Firestore creado correctamente
2025-11-16 16:56:40,817 INFO Firebase Manager inicializado correctamente
2025-11-16 16:56:40,817 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 16:56:40,817 INFO Backup Manager inicializado correctamente
2025-11-16 16:56:41,334 INFO Ventana principal creada y mostrada
2025-11-16 16:56:41,335 INFO Cargando mapas de nombres...
2025-11-16 16:56:41,494 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 16:56:41,635 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 16:56:41,766 INFO Obtenidos 12 equipos
2025-11-16 16:56:41,907 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 16:56:42,016 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 16:56:42,139 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 16:56:42,282 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 16:56:42,459 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 16:56:42,459 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 16:56:42,459 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 16:56:42,459 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 16:56:42,459 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 16:56:42,460 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 16:56:42,969 INFO Obtenidos 0 equipos
2025-11-16 16:56:42,969 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:56:43,125 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:56:43,127 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:56:43,245 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:56:43,245 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 16:56:43,376 INFO Obtenidos 0 pagos a operadores
2025-11-16 16:56:43,376 WARNING No se encontraron pagos con esos filtros.
2025-11-16 16:56:50,552 INFO Configuración guardada en config_equipos.json
2025-11-16 17:15:26,230 INFO Aplicación finalizada con exit_code=0
2025-11-16 17:15:44,911 INFO Configuración cargada desde config_equipos.json
2025-11-16 17:15:44,926 INFO Tema aplicado: Oscuro
2025-11-16 17:15:44,955 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 17:15:44,955 INFO Cliente de Firestore creado correctamente
2025-11-16 17:15:44,955 INFO Firebase Manager inicializado correctamente
2025-11-16 17:15:44,956 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 17:15:44,956 INFO Backup Manager inicializado correctamente
2025-11-16 17:15:45,360 INFO Ventana principal creada y mostrada
2025-11-16 17:15:45,388 INFO Cargando mapas de nombres...
2025-11-16 17:15:45,550 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 17:15:45,710 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 17:15:45,854 INFO Obtenidos 12 equipos
2025-11-16 17:15:45,996 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 17:15:46,123 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 17:15:46,264 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 17:15:46,384 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 17:15:46,545 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 17:15:46,545 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 17:15:46,545 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 17:15:46,546 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 17:15:46,546 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 17:15:46,546 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 17:15:47,021 INFO Obtenidos 0 equipos
2025-11-16 17:15:47,021 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:15:47,144 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:15:47,146 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:15:47,263 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:15:47,263 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:15:47,382 INFO Obtenidos 0 pagos a operadores
2025-11-16 17:15:47,382 WARNING No se encontraron pagos con esos filtros.
2025-11-16 17:15:51,087 ERROR Error al abrir diálogo de alquiler: AlquilerDialog.__init__() missing 1 required positional argument: 'storage_manager'
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\registro_alquileres_tab.py", line 342, in abrir_dialogo_alquiler
    dialogo = AlquilerDialog(
        firebase_manager=self.fm,
    ...<4 lines>...
        parent=self
    )
TypeError: AlquilerDialog.__init__() missing 1 required positional argument: 'storage_manager'
2025-11-16 17:32:51,299 INFO Aplicación finalizada con exit_code=0
2025-11-16 17:33:10,806 INFO Configuración cargada desde config_equipos.json
2025-11-16 17:33:10,822 INFO Tema aplicado: Oscuro
2025-11-16 17:33:10,852 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 17:33:10,853 INFO Cliente de Firestore creado correctamente
2025-11-16 17:33:10,853 INFO Firebase Manager inicializado correctamente
2025-11-16 17:33:10,854 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 17:33:10,854 INFO Backup Manager inicializado correctamente
2025-11-16 17:33:10,854 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-16 17:33:11,237 INFO Ventana principal creada y mostrada
2025-11-16 17:33:11,256 INFO Cargando mapas de nombres...
2025-11-16 17:33:11,414 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 17:33:11,555 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 17:33:11,700 INFO Obtenidos 12 equipos
2025-11-16 17:33:11,817 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 17:33:11,957 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 17:33:12,088 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 17:33:12,235 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 17:33:12,391 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 17:33:12,391 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 17:33:12,392 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 17:33:12,392 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 17:33:12,392 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 17:33:12,393 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 17:33:12,886 INFO Obtenidos 0 equipos
2025-11-16 17:33:12,886 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:33:13,004 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:33:13,006 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:33:13,118 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:33:13,119 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:33:13,236 INFO Obtenidos 0 pagos a operadores
2025-11-16 17:33:13,236 WARNING No se encontraron pagos con esos filtros.
2025-11-16 17:33:31,169 INFO Aplicación finalizada con exit_code=0
2025-11-16 17:34:53,116 INFO Configuración cargada desde config_equipos.json
2025-11-16 17:34:53,132 INFO Tema aplicado: Oscuro
2025-11-16 17:34:53,162 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 17:34:53,162 INFO Cliente de Firestore creado correctamente
2025-11-16 17:34:53,162 INFO Firebase Manager inicializado correctamente
2025-11-16 17:34:53,163 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 17:34:53,163 INFO Backup Manager inicializado correctamente
2025-11-16 17:34:53,163 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-16 17:34:53,479 INFO Ventana principal creada y mostrada
2025-11-16 17:34:53,480 INFO Cargando mapas de nombres...
2025-11-16 17:34:53,622 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 17:34:53,779 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 17:34:53,910 INFO Obtenidos 12 equipos
2025-11-16 17:34:54,039 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 17:34:54,161 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 17:34:54,276 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 17:34:54,391 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 17:34:54,525 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 17:34:54,525 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 17:34:54,525 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 17:34:54,525 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 17:34:54,525 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 17:34:54,526 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 17:34:55,028 INFO Obtenidos 0 equipos
2025-11-16 17:34:55,029 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:34:55,129 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:34:55,130 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:34:55,245 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:34:55,245 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:34:55,359 INFO Obtenidos 0 pagos a operadores
2025-11-16 17:34:55,359 WARNING No se encontraron pagos con esos filtros.
2025-11-16 17:35:29,313 INFO Aplicación finalizada con exit_code=0
2025-11-16 17:37:49,519 INFO Configuración cargada desde config_equipos.json
2025-11-16 17:37:49,534 INFO Tema aplicado: Oscuro
2025-11-16 17:37:49,563 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 17:37:49,563 INFO Cliente de Firestore creado correctamente
2025-11-16 17:37:49,563 INFO Firebase Manager inicializado correctamente
2025-11-16 17:37:49,564 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 17:37:49,564 INFO Backup Manager inicializado correctamente
2025-11-16 17:37:49,564 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-16 17:37:49,874 INFO Ventana principal creada y mostrada
2025-11-16 17:37:49,875 INFO Cargando mapas de nombres...
2025-11-16 17:37:50,014 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 17:37:50,157 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 17:37:50,282 INFO Obtenidos 12 equipos
2025-11-16 17:37:50,440 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 17:37:50,559 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 17:37:50,693 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 17:37:50,819 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 17:37:50,966 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 17:37:50,966 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 17:37:50,966 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 17:37:50,966 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 17:37:50,967 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 17:37:50,967 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 17:37:51,519 INFO Obtenidos 0 equipos
2025-11-16 17:37:51,519 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:37:51,627 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:37:51,628 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:37:51,732 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:37:51,732 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:37:51,853 INFO Obtenidos 0 pagos a operadores
2025-11-16 17:37:51,853 WARNING No se encontraron pagos con esos filtros.
2025-11-16 17:38:01,192 INFO Obtenidos 13 alquileres con filtros: {'fecha_inicio': '2025-10-16', 'fecha_fin': '2025-11-16'}
2025-11-16 17:38:21,495 ERROR Error al obtener alquileres: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 184, in obtener_alquileres
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 17:38:21,503 ERROR Error al generar reporte detallado: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\reportes_tab.py", line 188, in generar_reporte_detallado_pdf
    alquileres = self.fm.obtener_alquileres(filtros)
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 194, in obtener_alquileres
    raise e # Propagar el error
    ^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 184, in obtener_alquileres
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 17:38:34,452 INFO Aplicación finalizada con exit_code=0
2025-11-16 17:41:46,339 INFO Configuración cargada desde config_equipos.json
2025-11-16 17:41:46,358 INFO Tema aplicado: Oscuro
2025-11-16 17:41:46,396 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 17:41:46,397 INFO Cliente de Firestore creado correctamente
2025-11-16 17:41:46,397 INFO Firebase Manager inicializado correctamente
2025-11-16 17:41:46,398 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 17:41:46,398 INFO Backup Manager inicializado correctamente
2025-11-16 17:41:46,398 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-16 17:41:47,027 INFO Ventana principal creada y mostrada
2025-11-16 17:41:47,054 INFO Cargando mapas de nombres...
2025-11-16 17:41:47,304 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 17:41:48,278 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 17:41:48,427 INFO Obtenidos 12 equipos
2025-11-16 17:41:48,588 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 17:41:48,707 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 17:41:49,018 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 17:41:49,156 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 17:41:49,362 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 17:41:49,363 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 17:41:49,363 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 17:41:49,363 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 17:41:49,363 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 17:41:49,364 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 17:41:50,546 INFO Obtenidos 0 equipos
2025-11-16 17:41:50,547 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:41:50,669 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:41:50,670 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:41:50,790 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:41:50,790 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:41:50,888 INFO Obtenidos 0 pagos a operadores
2025-11-16 17:41:50,888 WARNING No se encontraron pagos con esos filtros.
2025-11-16 17:42:01,197 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-10-16', 'fecha_fin': '2025-11-16', 'cliente_id': '30'}
2025-11-16 17:42:13,616 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-07-01', 'fecha_fin': '2025-11-16', 'cliente_id': '30'}
2025-11-16 17:42:35,898 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2024-12-01', 'fecha_fin': '2025-11-16', 'cliente_id': '16'}
2025-11-16 17:43:10,903 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:43:11,530 INFO Obtenidos 222 alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:43:15,993 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'cliente_id': '30'}
2025-11-16 17:43:16,740 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'cliente_id': '30'}
2025-11-16 17:43:16,741 WARNING No se encontraron alquileres con esos filtros.
2025-11-16 17:43:19,691 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'cliente_id': '30'}
2025-11-16 17:43:19,919 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'cliente_id': '30'}
2025-11-16 17:43:19,919 WARNING No se encontraron alquileres con esos filtros.
2025-11-16 17:43:26,126 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:43:26,973 INFO Obtenidos 222 alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:43:40,788 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'cliente_id': '1'}
2025-11-16 17:43:40,923 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'cliente_id': '1'}
2025-11-16 17:43:40,924 WARNING No se encontraron alquileres con esos filtros.
2025-11-16 17:43:52,853 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'cliente_id': '16'}
2025-11-16 17:43:52,974 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'cliente_id': '16'}
2025-11-16 17:43:52,974 WARNING No se encontraron alquileres con esos filtros.
2025-11-16 17:44:40,265 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:44:40,390 INFO Obtenidos 0 pagos a operadores
2025-11-16 17:44:40,391 WARNING No se encontraron pagos con esos filtros.
2025-11-16 17:45:06,019 INFO Aplicación finalizada con exit_code=0
2025-11-16 17:46:00,031 INFO Configuración cargada desde config_equipos.json
2025-11-16 17:46:00,045 INFO Tema aplicado: Oscuro
2025-11-16 17:46:00,075 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 17:46:00,075 INFO Cliente de Firestore creado correctamente
2025-11-16 17:46:00,075 INFO Firebase Manager inicializado correctamente
2025-11-16 17:46:00,076 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 17:46:00,076 INFO Backup Manager inicializado correctamente
2025-11-16 17:46:00,076 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-16 17:46:00,790 INFO Ventana principal creada y mostrada
2025-11-16 17:46:00,811 INFO Cargando mapas de nombres...
2025-11-16 17:46:00,957 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 17:46:01,111 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 17:46:01,242 INFO Obtenidos 12 equipos
2025-11-16 17:46:01,372 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 17:46:01,490 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 17:46:01,602 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 17:46:01,711 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 17:46:01,848 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 17:46:01,849 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 17:46:01,849 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 17:46:01,849 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 17:46:01,849 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 17:46:01,850 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 17:46:02,440 INFO Obtenidos 0 equipos
2025-11-16 17:46:02,441 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:46:02,544 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:46:02,545 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:46:02,645 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:46:02,646 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 17:46:02,765 INFO Obtenidos 0 pagos a operadores
2025-11-16 17:46:02,765 WARNING No se encontraron pagos con esos filtros.
2025-11-16 17:47:05,988 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'operador_id': '29'}
2025-11-16 17:47:06,087 ERROR Error al obtener alquileres: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDwoLb3BlcmFkb3JfaWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 184, in obtener_alquileres
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDwoLb3BlcmFkb3JfaWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
2025-11-16 17:47:06,092 ERROR Error al cargar alquileres: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDwoLb3BlcmFkb3JfaWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\registro_alquileres_tab.py", line 241, in _cargar_alquileres
    self.alquileres_cargados = self.fm.obtener_alquileres(filtros)
                               ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 194, in obtener_alquileres
    raise e # Propagar el error
    ^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 184, in obtener_alquileres
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDwoLb3BlcmFkb3JfaWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
2025-11-16 17:48:03,817 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'operador_id': '17'}
2025-11-16 17:48:03,925 ERROR Error al obtener alquileres: 400 The query requires an index. That index is currently building and cannot be used yet. See its status here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Clpwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9DSUNBZ05qYXhKRUoQARoPCgtvcGVyYWRvcl9pZBABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 184, in obtener_alquileres
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. That index is currently building and cannot be used yet. See its status here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Clpwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9DSUNBZ05qYXhKRUoQARoPCgtvcGVyYWRvcl9pZBABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 17:48:03,929 ERROR Error al cargar alquileres: 400 The query requires an index. That index is currently building and cannot be used yet. See its status here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Clpwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9DSUNBZ05qYXhKRUoQARoPCgtvcGVyYWRvcl9pZBABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\registro_alquileres_tab.py", line 241, in _cargar_alquileres
    self.alquileres_cargados = self.fm.obtener_alquileres(filtros)
                               ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 194, in obtener_alquileres
    raise e # Propagar el error
    ^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 184, in obtener_alquileres
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. That index is currently building and cannot be used yet. See its status here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Clpwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9DSUNBZ05qYXhKRUoQARoPCgtvcGVyYWRvcl9pZBABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg
2025-11-16 17:48:16,922 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'equipo_id': '5'}
2025-11-16 17:48:17,055 ERROR Error al obtener alquileres: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDQoJZXF1aXBvX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 184, in obtener_alquileres
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDQoJZXF1aXBvX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
2025-11-16 17:48:17,060 ERROR Error al cargar alquileres: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDQoJZXF1aXBvX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\registro_alquileres_tab.py", line 241, in _cargar_alquileres
    self.alquileres_cargados = self.fm.obtener_alquileres(filtros)
                               ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 194, in obtener_alquileres
    raise e # Propagar el error
    ^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 184, in obtener_alquileres
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDQoJZXF1aXBvX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
2025-11-16 17:52:25,558 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'equipo_id': '5', 'operador_id': '29'}
2025-11-16 17:52:25,847 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'equipo_id': '5', 'operador_id': '29'}
2025-11-16 17:52:25,847 WARNING No se encontraron alquileres con esos filtros.
2025-11-16 17:52:33,463 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'equipo_id': '5', 'operador_id': '17'}
2025-11-16 17:52:33,571 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'equipo_id': '5', 'operador_id': '17'}
2025-11-16 17:52:33,572 WARNING No se encontraron alquileres con esos filtros.
2025-11-16 17:52:36,137 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'equipo_id': '5', 'operador_id': '17'}
2025-11-16 17:52:36,248 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'equipo_id': '5', 'operador_id': '17'}
2025-11-16 17:52:36,248 WARNING No se encontraron alquileres con esos filtros.
2025-11-16 17:52:43,695 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'equipo_id': '5'}
2025-11-16 17:52:43,820 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'equipo_id': '5'}
2025-11-16 17:52:43,820 WARNING No se encontraron alquileres con esos filtros.
2025-11-16 18:07:38,518 INFO Aplicación finalizada con exit_code=0
2025-11-16 18:07:50,500 INFO Configuración cargada desde config_equipos.json
2025-11-16 18:07:50,518 INFO Tema aplicado: Oscuro
2025-11-16 18:07:50,554 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 18:07:50,554 INFO Cliente de Firestore creado correctamente
2025-11-16 18:07:50,554 INFO Firebase Manager inicializado correctamente
2025-11-16 18:07:50,555 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 18:07:50,555 INFO Backup Manager inicializado correctamente
2025-11-16 18:07:50,555 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-16 18:07:51,147 INFO Ventana principal creada y mostrada
2025-11-16 18:07:51,149 INFO Cargando mapas de nombres...
2025-11-16 18:07:51,307 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 18:07:51,448 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 18:07:51,633 INFO Obtenidos 12 equipos
2025-11-16 18:07:51,803 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 18:07:51,971 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 18:07:52,132 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 18:07:52,262 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 18:07:52,479 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 18:07:52,479 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 18:07:52,479 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 18:07:52,479 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 18:07:52,637 INFO Fecha inicial establecida a primera transacción: 2025-01-06
2025-11-16 18:07:52,638 INFO Cargando alquileres automáticamente con rango inicial
2025-11-16 18:07:52,638 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-16'}
2025-11-16 18:07:52,893 INFO Obtenidos 222 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-16'}
2025-11-16 18:07:52,899 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 18:07:53,016 INFO Fecha inicial de gastos establecida a: 2025-01-06
2025-11-16 18:07:53,016 INFO Cargando gastos automáticamente con rango inicial
2025-11-16 18:07:53,016 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-16'}
2025-11-16 18:07:53,340 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-16'}
2025-11-16 18:07:53,344 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 18:07:53,482 INFO No hay pagos, estableciendo fecha hace 1 año
2025-11-16 18:07:53,483 INFO Cargando pagos automáticamente con rango inicial
2025-11-16 18:07:53,483 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2024-11-16', 'fecha_fin': '2025-11-16'}
2025-11-16 18:07:53,758 INFO Obtenidos 0 pagos a operadores
2025-11-16 18:07:53,758 WARNING No se encontraron pagos con esos filtros.
2025-11-16 18:07:54,258 INFO Obtenidos 0 equipos
2025-11-16 18:07:54,259 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-16'}
2025-11-16 18:07:54,449 INFO Obtenidos 222 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-16'}
2025-11-16 18:07:54,455 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-16'}
2025-11-16 18:07:54,665 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-16'}
2025-11-16 18:07:54,671 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2024-11-16', 'fecha_fin': '2025-11-16'}
2025-11-16 18:07:54,785 INFO Obtenidos 0 pagos a operadores
2025-11-16 18:07:54,786 WARNING No se encontraron pagos con esos filtros.
2025-11-16 18:08:00,376 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-16', 'cliente_id': '38'}
2025-11-16 18:08:00,500 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-16', 'cliente_id': '38'}
2025-11-16 18:08:00,501 WARNING No se encontraron alquileres con esos filtros.
2025-11-16 18:08:09,518 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-16', 'cliente_id': '16'}
2025-11-16 18:08:09,641 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-16', 'cliente_id': '16'}
2025-11-16 18:08:09,641 WARNING No se encontraron alquileres con esos filtros.
2025-11-16 18:26:33,493 INFO Aplicación finalizada con exit_code=0
2025-11-16 18:45:52,922 INFO Configuración cargada desde config_equipos.json
2025-11-16 18:45:52,938 INFO Tema aplicado: Oscuro
2025-11-16 18:45:52,967 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 18:45:52,968 INFO Cliente de Firestore creado correctamente
2025-11-16 18:45:52,968 INFO Firebase Manager inicializado correctamente
2025-11-16 18:45:52,969 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 18:45:52,969 INFO Backup Manager inicializado correctamente
2025-11-16 18:45:52,969 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-16 18:45:53,413 INFO Ventana principal creada y mostrada
2025-11-16 18:45:53,415 INFO Cargando mapas de nombres...
2025-11-16 18:45:53,615 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 18:45:53,774 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 18:45:54,006 INFO Obtenidos 12 equipos
2025-11-16 18:45:54,139 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 18:45:54,338 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 18:45:54,496 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 18:45:54,628 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 18:45:54,804 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 18:45:54,804 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 18:45:54,805 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 18:45:54,805 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 18:45:54,805 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 18:45:54,805 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 18:45:55,355 INFO Obtenidos 0 equipos
2025-11-16 18:45:55,355 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 18:45:55,546 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 18:45:55,547 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 18:45:55,751 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 18:45:55,752 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 18:45:55,893 INFO Obtenidos 0 pagos a operadores
2025-11-16 18:45:55,893 WARNING No se encontraron pagos con esos filtros.
2025-11-16 18:46:10,870 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16', 'cliente_id': 30}
2025-11-16 18:46:11,011 INFO Obtenidos 5 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16', 'cliente_id': 30}
2025-11-16 18:46:49,518 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'cliente_id': '16'}
2025-11-16 18:46:55,488 INFO Aplicación finalizada con exit_code=0
2025-11-16 18:51:36,479 INFO Configuración cargada desde config_equipos.json
2025-11-16 18:51:36,494 INFO Tema aplicado: Oscuro
2025-11-16 18:51:36,526 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 18:51:36,527 INFO Cliente de Firestore creado correctamente
2025-11-16 18:51:36,527 INFO Firebase Manager inicializado correctamente
2025-11-16 18:51:36,528 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 18:51:36,528 INFO Backup Manager inicializado correctamente
2025-11-16 18:51:36,528 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-16 18:51:36,916 INFO Ventana principal creada y mostrada
2025-11-16 18:51:36,934 INFO Cargando mapas de nombres...
2025-11-16 18:51:37,088 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 18:51:37,236 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 18:51:37,376 INFO Obtenidos 12 equipos
2025-11-16 18:51:37,510 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 18:51:37,630 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 18:51:37,751 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 18:51:37,867 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 18:51:38,032 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 18:51:38,032 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 18:51:38,032 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 18:51:38,032 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 18:51:38,032 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 18:51:38,033 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 18:51:38,633 INFO Obtenidos 0 equipos
2025-11-16 18:51:38,634 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 18:51:38,776 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 18:51:38,777 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 18:51:38,944 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 18:51:38,945 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 18:51:39,049 INFO Obtenidos 0 pagos a operadores
2025-11-16 18:51:39,049 WARNING No se encontraron pagos con esos filtros.
2025-11-16 18:51:53,281 INFO Obtenidos 37 alquileres con filtros: {'fecha_inicio': '2025-02-01', 'fecha_fin': '2025-11-16', 'cliente_id': 30}
2025-11-16 18:51:58,941 INFO Generando PDF en C:/Users/servi/OneDrive/Documentos/Reporte_Detallado_20251116_185153.pdf
2025-11-16 18:51:58,941 DEBUG Columnas del DataFrame: ['Fecha', 'Conduce', 'Equipo', 'Ubicación', 'Horas', 'Monto', 'CondStorage']
2025-11-16 18:51:58,953 DEBUG Primeras filas:
        Fecha Conduce                   Equipo Ubicación  Horas    Monto CondStorage
0  2025-11-07   00666  EXCAVADORA VOLVO 330 EL    VIAMAR   10.0  26000.0            
1  2025-11-06   00664  EXCAVADORA VOLVO 330 EL    VIAMAR    8.0  20800.0            
2  2025-11-05   00663  EXCAVADORA VOLVO 330 EL    VIAMAR    8.0  20800.0            
3  2025-11-04   00560  EXCAVADORA VOLVO 330 EL    VIAMAR    8.0  20800.0            
4  2025-11-01   00659  EXCAVADORA VOLVO 330 EL    VIAMAR    8.0  20800.0            
2025-11-16 18:51:58,967 INFO PDF generado exitosamente: C:/Users/servi/OneDrive/Documentos/Reporte_Detallado_20251116_185153.pdf
2025-11-16 19:32:29,476 INFO Obtenidos 37 alquileres con filtros: {'fecha_inicio': '2025-02-01', 'fecha_fin': '2025-11-16', 'cliente_id': 30}
2025-11-16 19:32:33,791 INFO Generando PDF en C:/Users/servi/OneDrive/Documentos/Reporte_Detallado_20251116_193229.pdf
2025-11-16 19:32:33,791 DEBUG Columnas del DataFrame: ['Fecha', 'Conduce', 'Equipo', 'Ubicación', 'Horas', 'Monto', 'CondStorage']
2025-11-16 19:32:33,796 DEBUG Primeras filas:
        Fecha Conduce                   Equipo Ubicación  Horas    Monto CondStorage
0  2025-11-07   00666  EXCAVADORA VOLVO 330 EL    VIAMAR   10.0  26000.0            
1  2025-11-06   00664  EXCAVADORA VOLVO 330 EL    VIAMAR    8.0  20800.0            
2  2025-11-05   00663  EXCAVADORA VOLVO 330 EL    VIAMAR    8.0  20800.0            
3  2025-11-04   00560  EXCAVADORA VOLVO 330 EL    VIAMAR    8.0  20800.0            
4  2025-11-01   00659  EXCAVADORA VOLVO 330 EL    VIAMAR    8.0  20800.0            
2025-11-16 19:32:33,806 INFO PDF generado exitosamente: C:/Users/servi/OneDrive/Documentos/Reporte_Detallado_20251116_193229.pdf
2025-11-16 19:32:55,185 INFO Obtenidos 207 alquileres con filtros: {'fecha_inicio': '2025-02-01', 'fecha_fin': '2025-11-16'}
2025-11-16 19:33:09,601 INFO Generando PDF en C:/Users/servi/OneDrive/Documentos/Reporte_Detallado_20251116_193255.pdf
2025-11-16 19:33:09,601 DEBUG Columnas del DataFrame: ['Fecha', 'Conduce', 'Equipo', 'Ubicación', 'Horas', 'Monto', 'CondStorage']
2025-11-16 19:33:09,606 DEBUG Primeras filas:
        Fecha Conduce                   Equipo       Ubicación  Horas    Monto CondStorage
0  2025-11-07   00621           RETROPALA 416E  SABANA PERDIDA    6.0  15000.0            
1  2025-11-07   00666  EXCAVADORA VOLVO 330 EL          VIAMAR   10.0  26000.0            
2  2025-11-06   00622         EXCAVADORA 325BL    ARROYO HONDO    5.0  12500.0            
3  2025-11-06   00664  EXCAVADORA VOLVO 330 EL          VIAMAR    8.0  20800.0            
4  2025-11-05   00624         EXCAVADORA 325BL    ARROYO HONDO    6.0  15000.0            
2025-11-16 19:33:09,649 INFO PDF generado exitosamente: C:/Users/servi/OneDrive/Documentos/Reporte_Detallado_20251116_193255.pdf
2025-11-16 19:34:45,055 INFO Obtenidos 207 alquileres con filtros: {'fecha_inicio': '2025-02-01', 'fecha_fin': '2025-11-16'}
2025-11-16 19:34:53,163 INFO Generando PDF en C:/Users/servi/OneDrive/Documentos/Reporte_Operadores_20251116_193445.pdf
2025-11-16 19:34:53,164 DEBUG Columnas del DataFrame: ['Operador', 'Total Horas']
2025-11-16 19:34:53,167 DEBUG Primeras filas:
                        Operador  Total Horas
0  PROCEDES DE LOS SANTOS (MIKI)        446.0
1          JHONATTAN ROJAS NIVAR        275.0
2                    HECTOR LUIS        127.0
3                       EL BARON        122.5
4                GREISELL CARPIO        107.5
2025-11-16 19:34:53,176 INFO PDF generado exitosamente: C:/Users/servi/OneDrive/Documentos/Reporte_Operadores_20251116_193445.pdf
2025-11-16 19:35:16,429 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-02-06', 'fecha_fin': '2025-11-16'}
2025-11-16 19:35:16,562 INFO Obtenidos 0 pagos a operadores
2025-11-16 19:35:16,562 WARNING No se encontraron pagos con esos filtros.
2025-11-16 19:42:17,515 INFO Configuración cargada desde config_equipos.json
2025-11-16 19:42:17,534 INFO Tema aplicado: Oscuro
2025-11-16 19:42:17,595 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 19:42:17,595 INFO Cliente de Firestore creado correctamente
2025-11-16 19:42:17,595 INFO Firebase Manager inicializado correctamente
2025-11-16 19:42:17,600 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 19:42:17,600 INFO Backup Manager inicializado correctamente
2025-11-16 19:42:17,600 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-16 19:42:18,163 INFO Ventana principal creada y mostrada
2025-11-16 19:42:18,165 INFO Cargando mapas de nombres...
2025-11-16 19:42:18,345 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 19:42:18,492 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 19:42:18,710 INFO Obtenidos 12 equipos
2025-11-16 19:42:18,913 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 19:42:19,082 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 19:42:19,218 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 19:42:19,376 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 19:42:19,560 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 19:42:19,560 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 19:42:19,560 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 19:42:19,560 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 19:42:19,561 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 19:42:19,562 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 19:42:20,097 INFO Obtenidos 0 equipos
2025-11-16 19:42:20,097 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 19:42:20,202 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 19:42:20,203 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 19:42:20,310 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 19:42:20,310 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 19:42:20,430 INFO Obtenidos 0 pagos a operadores
2025-11-16 19:42:20,430 WARNING No se encontraron pagos con esos filtros.
2025-11-16 19:47:42,072 INFO Aplicación finalizada con exit_code=0
2025-11-16 19:59:38,704 INFO Configuración cargada desde config_equipos.json
2025-11-16 19:59:38,721 INFO Tema aplicado: Oscuro
2025-11-16 19:59:38,755 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 19:59:38,755 INFO Cliente de Firestore creado correctamente
2025-11-16 19:59:38,755 INFO Firebase Manager inicializado correctamente
2025-11-16 19:59:38,756 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 19:59:38,756 INFO Backup Manager inicializado correctamente
2025-11-16 19:59:38,756 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-16 19:59:39,258 INFO Ventana principal creada y mostrada
2025-11-16 19:59:39,299 INFO Cargando mapas de nombres...
2025-11-16 19:59:39,504 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 19:59:39,668 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 19:59:39,826 INFO Obtenidos 12 equipos
2025-11-16 19:59:39,963 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 19:59:40,084 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 19:59:40,222 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 19:59:40,361 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 19:59:40,563 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 19:59:40,563 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 19:59:40,564 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 19:59:40,564 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 19:59:40,564 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 19:59:40,565 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 19:59:41,103 INFO Obtenidos 0 equipos
2025-11-16 19:59:41,103 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 19:59:41,219 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 19:59:41,219 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 19:59:41,342 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 19:59:41,343 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 19:59:41,462 INFO Obtenidos 2 pagos a operadores
2025-11-16 19:59:54,173 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 19:59:54,289 INFO Obtenidos 2 pagos a operadores
2025-11-16 19:59:56,408 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 19:59:56,580 INFO Obtenidos 2 pagos a operadores
2025-11-16 20:00:00,224 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:00:00,562 INFO Obtenidos 62 pagos a operadores
2025-11-16 20:00:12,492 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'operador_id': 31}
2025-11-16 20:00:12,601 ERROR Error al obtener pagos a operadores: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClVwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3BhZ29zX29wZXJhZG9yZXMvaW5kZXhlcy9fEAEaDwoLb3BlcmFkb3JfaWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 481, in obtener_pagos_operadores
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClVwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3BhZ29zX29wZXJhZG9yZXMvaW5kZXhlcy9fEAEaDwoLb3BlcmFkb3JfaWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
2025-11-16 20:00:12,658 ERROR Error al cargar pagos a operadores: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClVwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3BhZ29zX29wZXJhZG9yZXMvaW5kZXhlcy9fEAEaDwoLb3BlcmFkb3JfaWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\pagos_operadores_tab.py", line 210, in _cargar_pagos
    self.pagos_cargados = self.fm.obtener_pagos_operadores(filtros)
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 489, in obtener_pagos_operadores
    raise e # Propagar el error
    ^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 481, in obtener_pagos_operadores
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClVwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3BhZ29zX29wZXJhZG9yZXMvaW5kZXhlcy9fEAEaDwoLb3BlcmFkb3JfaWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
2025-11-16 20:03:47,441 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'operador_id': 14}
2025-11-16 20:03:47,558 INFO Obtenidos 0 pagos a operadores
2025-11-16 20:03:47,558 WARNING No se encontraron pagos con esos filtros.
2025-11-16 20:03:53,022 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'operador_id': 31}
2025-11-16 20:03:53,155 INFO Obtenidos 14 pagos a operadores
2025-11-16 20:04:00,351 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'equipo_id': 4, 'operador_id': 31}
2025-11-16 20:04:00,477 ERROR Error al obtener pagos a operadores: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClVwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3BhZ29zX29wZXJhZG9yZXMvaW5kZXhlcy9fEAEaDQoJZXF1aXBvX2lkEAEaDwoLb3BlcmFkb3JfaWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 481, in obtener_pagos_operadores
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClVwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3BhZ29zX29wZXJhZG9yZXMvaW5kZXhlcy9fEAEaDQoJZXF1aXBvX2lkEAEaDwoLb3BlcmFkb3JfaWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
2025-11-16 20:04:00,479 ERROR Error al cargar pagos a operadores: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClVwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3BhZ29zX29wZXJhZG9yZXMvaW5kZXhlcy9fEAEaDQoJZXF1aXBvX2lkEAEaDwoLb3BlcmFkb3JfaWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\pagos_operadores_tab.py", line 210, in _cargar_pagos
    self.pagos_cargados = self.fm.obtener_pagos_operadores(filtros)
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 489, in obtener_pagos_operadores
    raise e # Propagar el error
    ^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 481, in obtener_pagos_operadores
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=ClVwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL3BhZ29zX29wZXJhZG9yZXMvaW5kZXhlcy9fEAEaDQoJZXF1aXBvX2lkEAEaDwoLb3BlcmFkb3JfaWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
2025-11-16 20:16:38,266 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-01', 'fecha_fin': '2025-11-16', 'equipo_id': 4, 'operador_id': 31}
2025-11-16 20:16:38,527 INFO Obtenidos 7 pagos a operadores
2025-11-16 20:16:48,385 ERROR Excepción no controlada:
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\registro_alquileres_tab.py", line 342, in abrir_dialogo_alquiler
    dialog = AlquilerDialog(self.fm, self.sm, mapas, alquiler_id, parent=self)
TypeError: AlquilerDialog.__init__() missing 1 required positional argument: 'operadores_mapa'
NoneType: None
2025-11-16 20:19:18,197 INFO Configuración cargada desde config_equipos.json
2025-11-16 20:19:18,215 INFO Tema aplicado: Oscuro
2025-11-16 20:19:18,248 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 20:19:18,248 INFO Cliente de Firestore creado correctamente
2025-11-16 20:19:18,248 INFO Firebase Manager inicializado correctamente
2025-11-16 20:19:18,249 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 20:19:18,249 INFO Backup Manager inicializado correctamente
2025-11-16 20:19:18,249 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-16 20:19:19,251 INFO Ventana principal creada y mostrada
2025-11-16 20:19:19,262 INFO Cargando mapas de nombres...
2025-11-16 20:19:19,415 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 20:19:19,564 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 20:19:19,719 INFO Obtenidos 12 equipos
2025-11-16 20:19:19,845 INFO Obtenidas 22 entidades (tipo=Cliente)
2025-11-16 20:19:19,960 INFO Obtenidas 14 entidades (tipo=Operador)
2025-11-16 20:19:20,095 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 20:19:20,236 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 20:19:20,426 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 20:19:20,426 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 20:19:20,426 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 20:19:20,426 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 20:19:20,427 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 20:19:20,427 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 20:19:21,022 INFO Obtenidos 0 equipos
2025-11-16 20:19:21,022 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:19:21,144 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:19:21,145 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:19:21,275 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:19:21,275 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:19:21,381 INFO Obtenidos 2 pagos a operadores
2025-11-16 20:19:23,916 ERROR Excepción no controlada:
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\registro_alquileres_tab.py", line 331, in abrir_dialogo_alquiler
    dialog = AlquilerDialog(
        firebase_manager=self.fm,
    ...<5 lines>...
        parent=self
    )
TypeError: AlquilerDialog.__init__() got an unexpected keyword argument 'alquiler_id'. Did you mean 'alquiler_data'?
NoneType: None
2025-11-16 20:37:06,929 INFO Configuración cargada desde config_equipos.json
2025-11-16 20:37:06,948 INFO Tema aplicado: Oscuro
2025-11-16 20:37:06,981 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 20:37:06,982 INFO Cliente de Firestore creado correctamente
2025-11-16 20:37:06,982 INFO Firebase Manager inicializado correctamente
2025-11-16 20:37:06,982 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 20:37:06,983 INFO Backup Manager inicializado correctamente
2025-11-16 20:37:06,983 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-16 20:37:08,482 INFO Ventana principal creada y mostrada
2025-11-16 20:37:08,484 INFO Cargando mapas de nombres...
2025-11-16 20:37:08,683 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 20:37:08,864 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 20:37:09,017 INFO Obtenidos 12 equipos (activo=None)
2025-11-16 20:37:09,148 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-16 20:37:09,290 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-16 20:37:09,426 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 20:37:09,570 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 20:37:09,754 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 20:37:09,754 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 20:37:09,754 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 20:37:09,755 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 20:37:09,755 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 20:37:09,755 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 20:37:10,310 INFO Obtenidos 0 equipos (activo=True)
2025-11-16 20:37:10,310 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:37:10,431 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:37:10,432 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:37:10,580 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:37:10,580 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:37:10,676 INFO Obtenidos 2 pagos a operadores
2025-11-16 20:39:48,238 ERROR Excepción no controlada:
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\registro_alquileres_tab.py", line 331, in abrir_dialogo_alquiler
    dialog = AlquilerDialog(
        firebase_manager=self.fm,
    ...<5 lines>...
        parent=self
    )
TypeError: AlquilerDialog.__init__() got an unexpected keyword argument 'alquiler_id'. Did you mean 'alquiler_data'?
NoneType: None
2025-11-16 20:42:52,581 INFO Configuración cargada desde config_equipos.json
2025-11-16 20:42:52,599 INFO Tema aplicado: Oscuro
2025-11-16 20:42:52,631 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 20:42:52,632 INFO Cliente de Firestore creado correctamente
2025-11-16 20:42:52,632 INFO Firebase Manager inicializado correctamente
2025-11-16 20:42:52,632 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 20:42:52,632 INFO Backup Manager inicializado correctamente
2025-11-16 20:42:52,632 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-16 20:42:53,165 INFO Ventana principal creada y mostrada
2025-11-16 20:42:53,191 INFO Cargando mapas de nombres...
2025-11-16 20:42:53,357 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 20:42:53,507 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 20:42:53,674 INFO Obtenidos 12 equipos (activo=None)
2025-11-16 20:42:53,806 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-16 20:42:53,929 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-16 20:42:54,054 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 20:42:54,175 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 20:42:54,376 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 20:42:54,376 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 20:42:54,376 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 20:42:54,376 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 20:42:54,376 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 20:42:54,377 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 20:42:54,968 INFO Obtenidos 0 equipos (activo=True)
2025-11-16 20:42:54,969 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:42:55,174 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:42:55,175 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:42:55,288 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:42:55,289 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:42:55,430 INFO Obtenidos 2 pagos a operadores
2025-11-16 20:42:57,460 ERROR Excepción no controlada:
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\registro_alquileres_tab.py", line 331, in abrir_dialogo_alquiler
    dialog = AlquilerDialog(
        firebase_manager=self.fm,
    ...<5 lines>...
        parent=self
    )
TypeError: AlquilerDialog.__init__() got an unexpected keyword argument 'alquiler_id'. Did you mean 'alquiler_data'?
NoneType: None
2025-11-16 20:52:00,259 INFO Configuración cargada desde config_equipos.json
2025-11-16 20:52:00,275 INFO Tema aplicado: Oscuro
2025-11-16 20:52:00,308 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 20:52:00,308 INFO Cliente de Firestore creado correctamente
2025-11-16 20:52:00,308 INFO Firebase Manager inicializado correctamente
2025-11-16 20:52:00,309 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 20:52:00,309 INFO Backup Manager inicializado correctamente
2025-11-16 20:52:00,309 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-16 20:52:00,798 INFO Ventana principal creada y mostrada
2025-11-16 20:52:00,800 INFO Cargando mapas de nombres...
2025-11-16 20:52:00,950 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 20:52:01,108 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 20:52:01,272 INFO Obtenidos 12 equipos (activo=None)
2025-11-16 20:52:01,398 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-16 20:52:01,529 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-16 20:52:01,653 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 20:52:01,786 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 20:52:01,964 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 20:52:01,964 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 20:52:01,964 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 20:52:01,965 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 20:52:01,965 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 20:52:01,965 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 20:52:02,455 INFO Obtenidos 0 equipos (activo=True)
2025-11-16 20:52:02,456 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:52:02,561 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:52:02,561 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:52:02,698 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:52:02,698 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 20:52:02,800 INFO Obtenidos 2 pagos a operadores
2025-11-16 21:01:40,790 INFO Configuración cargada desde config_equipos.json
2025-11-16 21:01:40,806 INFO Tema aplicado: Oscuro
2025-11-16 21:01:40,840 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 21:01:40,840 INFO Cliente de Firestore creado correctamente
2025-11-16 21:01:40,840 INFO Firebase Manager inicializado correctamente
2025-11-16 21:01:40,841 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 21:01:40,841 INFO Backup Manager inicializado correctamente
2025-11-16 21:01:40,841 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-16 21:01:42,061 INFO Ventana principal creada y mostrada
2025-11-16 21:01:42,064 INFO Cargando mapas de nombres...
2025-11-16 21:01:42,325 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 21:01:42,470 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 21:01:42,615 INFO Obtenidos 12 equipos (activo=None)
2025-11-16 21:01:42,732 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-16 21:01:42,850 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-16 21:01:42,990 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 21:01:43,123 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 21:01:43,325 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 21:01:43,325 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 21:01:43,325 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 21:01:43,326 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 21:01:43,326 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 21:01:43,327 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 21:01:43,882 INFO Obtenidos 0 equipos (activo=True)
2025-11-16 21:01:43,883 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 21:01:44,011 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 21:01:44,012 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 21:01:44,132 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 21:01:44,132 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 21:01:44,243 INFO Obtenidos 2 pagos a operadores
2025-11-16 21:01:55,239 INFO Aplicación finalizada con exit_code=0
2025-11-16 21:15:02,454 INFO Configuración cargada desde config_equipos.json
2025-11-16 21:15:02,469 INFO Tema aplicado: Oscuro
2025-11-16 21:15:02,499 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-16 21:15:02,499 INFO Cliente de Firestore creado correctamente
2025-11-16 21:15:02,499 INFO Firebase Manager inicializado correctamente
2025-11-16 21:15:02,500 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-16 21:15:02,500 INFO Backup Manager inicializado correctamente
2025-11-16 21:15:02,500 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-16 21:15:03,019 INFO Ventana principal creada y mostrada
2025-11-16 21:15:03,020 INFO Cargando mapas de nombres...
2025-11-16 21:15:03,183 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-16 21:15:03,350 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-16 21:15:03,604 INFO Obtenidos 12 equipos (activo=None)
2025-11-16 21:15:03,730 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-16 21:15:03,853 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-16 21:15:03,982 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-16 21:15:04,117 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-16 21:15:04,275 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-16 21:15:04,275 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-16 21:15:04,275 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-16 21:15:04,275 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-16 21:15:04,275 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-16 21:15:04,276 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-16 21:15:04,904 INFO Obtenidos 0 equipos (activo=True)
2025-11-16 21:15:04,905 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 21:15:05,017 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 21:15:05,019 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 21:15:05,134 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 21:15:05,135 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-16'}
2025-11-16 21:15:05,270 INFO Obtenidos 2 pagos a operadores
2025-11-16 21:26:22,348 INFO Aplicación finalizada con exit_code=0
2025-11-17 00:11:35,573 INFO Configuración cargada desde config_equipos.json
2025-11-17 00:11:35,587 INFO Tema aplicado: Oscuro
2025-11-17 00:11:35,640 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 00:11:35,640 INFO Cliente de Firestore creado correctamente
2025-11-17 00:11:35,640 INFO Firebase Manager inicializado correctamente
2025-11-17 00:11:35,643 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 00:11:35,643 INFO Backup Manager inicializado correctamente
2025-11-17 00:11:35,643 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-17 00:11:36,124 INFO Ventana principal creada y mostrada
2025-11-17 00:11:36,125 INFO Cargando mapas de nombres...
2025-11-17 00:11:36,292 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 00:11:36,446 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 00:11:36,582 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 00:11:36,697 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 00:11:36,812 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 00:11:36,954 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 00:11:37,077 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 00:11:37,236 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 00:11:37,236 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 00:11:37,236 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 00:11:37,236 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 00:11:37,237 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 00:11:37,237 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 00:11:37,770 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 00:11:37,770 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-17'}
2025-11-17 00:11:37,882 INFO Obtenidos 9 alquileres con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-17'}
2025-11-17 00:11:37,884 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-17'}
2025-11-17 00:11:38,025 INFO Obtenidos 4 gastos con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-17'}
2025-11-17 00:11:38,025 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-11-01', 'fecha_fin': '2025-11-17'}
2025-11-17 00:11:38,126 INFO Obtenidos 2 pagos a operadores
2025-11-17 01:10:07,100 INFO Configuración cargada desde config_equipos.json
2025-11-17 01:10:07,119 INFO Tema aplicado: Oscuro
2025-11-17 01:10:07,189 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 01:10:07,189 INFO Cliente de Firestore creado correctamente
2025-11-17 01:10:07,189 INFO Firebase Manager inicializado correctamente
2025-11-17 01:10:07,191 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 01:10:07,191 INFO Backup Manager inicializado correctamente
2025-11-17 01:10:07,191 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-17 01:10:07,996 INFO Ventana principal creada y mostrada
2025-11-17 01:10:07,998 INFO Cargando mapas de nombres...
2025-11-17 01:10:08,149 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 01:10:08,296 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:08,298 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:08,422 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:08,423 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:08,584 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:08,584 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:08,788 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:08,789 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:08,970 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:08,971 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:09,121 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:09,122 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:09,337 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:09,337 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:09,833 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:09,834 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:10,383 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:10,384 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:11,048 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:11,049 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:11,767 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:11,768 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:12,874 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:12,875 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:14,183 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:14,184 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:16,067 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:16,068 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:18,801 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:18,801 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:22,630 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:22,631 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:24,863 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:24,864 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:25,376 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:25,377 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:31,845 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:31,846 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:33,929 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:33,929 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:47,725 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:47,726 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:10:55,722 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 400 None
2025-11-17 01:10:55,723 ERROR AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000002B36AA1A7B0>" raised exception!
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
    ~~~~~~~~~~~~~~~~~~~~~^
        context, _AuthMetadataPluginCallback(callback_state, callback)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._request, context.method_name, context.service_url, headers
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\service_account.py", line 448, in refresh
    access_token, expiry, _ = _client.jwt_grant(
                              ~~~~~~~~~~~~~~~~~^
        request, self._token_uri, assertion
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 299, in jwt_grant
    response_data = _token_endpoint_request(
        request,
    ...<5 lines>...
        },
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 270, in _token_endpoint_request
    _handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_grant: Invalid JWT Signature.', {'error': 'invalid_grant', 'error_description': 'Invalid JWT Signature.'})
2025-11-17 01:12:18,737 INFO Configuración cargada desde config_equipos.json
2025-11-17 01:12:18,754 INFO Tema aplicado: Oscuro
2025-11-17 01:12:18,802 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 01:12:18,802 INFO Cliente de Firestore creado correctamente
2025-11-17 01:12:18,802 INFO Firebase Manager inicializado correctamente
2025-11-17 01:12:18,803 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 01:12:18,803 INFO Backup Manager inicializado correctamente
2025-11-17 01:12:18,803 INFO Storage bucket no configurado - funcionalidad de conduces deshabilitada
2025-11-17 01:12:19,239 INFO Ventana principal creada y mostrada
2025-11-17 01:12:19,242 INFO Cargando mapas de nombres...
2025-11-17 01:12:19,391 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 01:12:19,517 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 01:12:19,669 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 01:12:19,802 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 01:12:19,938 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 01:12:20,065 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 01:12:20,210 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 01:12:20,414 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 01:12:20,414 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 01:12:20,415 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 01:12:20,415 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 01:12:20,537 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 01:12:20,545 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 01:12:20,545 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 01:12:20,670 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 01:12:20,671 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 01:12:20,671 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 01:12:20,827 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 01:12:20,827 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 01:12:20,940 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 01:12:20,940 INFO Fecha desde actualizada con primera transacción general: 2025-01-06
2025-11-17 01:12:21,467 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 01:12:21,468 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:12:21,748 INFO Obtenidos 223 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:12:21,754 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:12:21,989 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:12:21,996 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 01:12:22,117 INFO Obtenidos 62 pagos a operadores
2025-11-17 01:12:38,279 ERROR Error al obtener primera fecha de cliente 30: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 670, in obtener_fecha_primera_transaccion_cliente
    docs = list(query.stream())
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
2025-11-17 01:12:38,326 INFO Fecha desde actualizada por cliente 30: None
2025-11-17 01:12:38,326 WARNING No hay datos para el filtro seleccionado, usando fecha por defecto
2025-11-17 01:17:43,362 INFO Aplicación finalizada con exit_code=0
2025-11-17 01:36:46,565 INFO Configuración cargada desde config_equipos.json
2025-11-17 01:36:46,582 INFO Tema aplicado: Oscuro
2025-11-17 01:36:46,615 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 01:36:46,616 INFO Cliente de Firestore creado correctamente
2025-11-17 01:36:46,616 INFO Firebase Manager inicializado correctamente
2025-11-17 01:36:46,617 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 01:36:46,617 INFO Backup Manager inicializado correctamente
2025-11-17 01:36:46,617 INFO Storage inicializado con bucket: equipos-zoec.appspot.com
2025-11-17 01:36:46,617 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.appspot.com
2025-11-17 01:36:47,603 INFO Ventana principal creada y mostrada
2025-11-17 01:36:47,605 INFO Cargando mapas de nombres...
2025-11-17 01:36:47,955 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 01:36:48,279 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 01:36:48,432 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 01:36:48,571 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 01:36:48,728 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 01:36:48,865 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 01:36:49,009 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 01:36:49,215 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 01:36:49,216 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 01:36:49,216 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 01:36:49,216 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 01:36:49,348 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 01:36:49,349 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 01:36:49,349 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 01:36:49,464 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 01:36:49,464 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 01:36:49,464 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 01:36:49,639 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 01:36:49,639 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 01:36:49,762 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 01:36:49,762 INFO Fecha desde actualizada con primera transacción general: 2025-01-06
2025-11-17 01:36:50,360 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 01:36:50,360 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:36:50,540 INFO Obtenidos 223 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:36:50,546 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:36:50,727 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:36:50,731 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 01:36:50,869 INFO Obtenidos 62 pagos a operadores
2025-11-17 01:38:02,846 INFO Abriendo editor de imagen para: D:/Dropbox/TRABAJOS/INGENIERIA/EQUIPOS PESADOS/CONDUCES/00318.jpeg
2025-11-17 01:38:02,890 DEBUG Imagen cargada con PIL: D:/Dropbox/TRABAJOS/INGENIERIA/EQUIPOS PESADOS/CONDUCES/00318.jpeg (1200x1600)
2025-11-17 01:38:41,333 INFO Archivo temporal creado: C:\Users\servi\AppData\Local\Temp\conduce_editado_njcflhy4.jpeg
2025-11-17 01:38:41,337 INFO Imagen editada guardada correctamente en: C:\Users\servi\AppData\Local\Temp\conduce_editado_njcflhy4.jpeg
2025-11-17 01:38:44,613 INFO Iniciando subida de conduce: C:\Users\servi\AppData\Local\Temp\conduce_editado_njcflhy4.jpeg
2025-11-17 01:38:44,642 INFO Imagen procesada: C:\Users\servi\AppData\Local\Temp\conduce_editado_njcflhy4.jpeg -> C:\Users\servi\AppData\Local\Temp\tmpsixapk0_.jpeg
2025-11-17 01:38:44,643 INFO Ruta de storage construida: conduces/2025/11/p021.jpeg
2025-11-17 01:38:44,681 DEBUG Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
2025-11-17 01:38:44,692 DEBUG Starting new HTTPS connection (1): storage.googleapis.com:443
2025-11-17 01:38:45,187 DEBUG https://storage.googleapis.com:443 "POST /upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart HTTP/1.1" 404 247
2025-11-17 01:38:45,190 ERROR Error al guardar conduce: 404 POST https://storage.googleapis.com/upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart: {
  "error": {
    "code": 404,
    "message": "The specified bucket does not exist.",
    "errors": [
      {
        "message": "The specified bucket does not exist.",
        "domain": "global",
        "reason": "notFound"
      }
    ]
  }
}
: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2837, in _prep_and_do_upload
    created_json = self._do_upload(
        client,
    ...<12 lines>...
        crc32c_checksum_value=crc32c_checksum_value,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2632, in _do_upload
    response = self._do_multipart_upload(
        client,
    ...<11 lines>...
        command=command,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2062, in _do_multipart_upload
    response = upload.transmit(
        transport, data, object_metadata, content_type, timeout=timeout
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\upload.py", line 162, in transmit
    return _request_helpers.wait_and_retry(retriable_request, self._retry_strategy)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\_request_helpers.py", line 107, in wait_and_retry
    return func()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\upload.py", line 158, in retriable_request
    self._process_response(result)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\_upload.py", line 135, in _process_response
    _helpers.require_status_code(response, (http.client.OK,), self._get_status_code)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\_helpers.py", line 105, in require_status_code
    raise InvalidResponse(
    ...<5 lines>...
    )
google.cloud.storage.exceptions.InvalidResponse: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\storage_manager.py", line 145, in guardar_conduce
    blob.upload_from_filename(archivo_a_subir)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 3200, in upload_from_filename
    self._handle_filename_and_upload(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        filename,
        ^^^^^^^^^
    ...<10 lines>...
        crc32c_checksum_value=crc32c_checksum_value,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 3050, in _handle_filename_and_upload
    self._prep_and_do_upload(
    ~~~~~~~~~~~~~~~~~~~~~~~~^
        file_obj,
        ^^^^^^^^^
    ...<3 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2855, in _prep_and_do_upload
    _raise_from_invalid_response(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 5147, in _raise_from_invalid_response
    raise exceptions.from_http_status(response.status_code, message, response=response)
google.api_core.exceptions.NotFound: 404 POST https://storage.googleapis.com/upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart: {
  "error": {
    "code": 404,
    "message": "The specified bucket does not exist.",
    "errors": [
      {
        "message": "The specified bucket does not exist.",
        "domain": "global",
        "reason": "notFound"
      }
    ]
  }
}
: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)
2025-11-17 01:38:45,195 WARNING La subida del conduce falló
2025-11-17 01:39:38,025 INFO Alquiler registrado con ID: 7546e1f7-b19c-4a82-8adb-2b9417a1d28f
2025-11-17 01:39:39,755 INFO Alquiler creado con ID: 7546e1f7-b19c-4a82-8adb-2b9417a1d28f
2025-11-17 01:39:39,773 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:39:39,966 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:40:13,206 INFO Aplicación finalizada con exit_code=0
2025-11-17 01:40:41,187 INFO Configuración cargada desde config_equipos.json
2025-11-17 01:40:41,204 INFO Tema aplicado: Oscuro
2025-11-17 01:40:41,237 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 01:40:41,237 INFO Cliente de Firestore creado correctamente
2025-11-17 01:40:41,237 INFO Firebase Manager inicializado correctamente
2025-11-17 01:40:41,238 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 01:40:41,239 INFO Backup Manager inicializado correctamente
2025-11-17 01:40:41,239 INFO Storage inicializado con bucket: equipos-zoec.appspot.com
2025-11-17 01:40:41,239 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.appspot.com
2025-11-17 01:40:42,185 INFO Ventana principal creada y mostrada
2025-11-17 01:40:42,187 INFO Cargando mapas de nombres...
2025-11-17 01:40:42,333 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 01:40:42,457 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 01:40:42,607 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 01:40:42,736 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 01:40:42,862 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 01:40:42,979 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 01:40:43,121 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 01:40:43,293 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 01:40:43,293 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 01:40:43,293 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 01:40:43,294 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 01:40:43,407 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 01:40:43,409 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 01:40:43,409 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 01:40:43,516 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 01:40:43,517 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 01:40:43,517 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 01:40:43,614 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 01:40:43,615 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 01:40:43,750 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 01:40:43,750 INFO Fecha desde actualizada con primera transacción general: 2025-01-06
2025-11-17 01:40:44,227 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 01:40:44,227 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:40:44,424 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:40:44,430 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:40:44,631 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:40:44,635 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 01:40:44,761 INFO Obtenidos 62 pagos a operadores
2025-11-17 01:40:56,863 ERROR Error al obtener primera fecha de cliente 38: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 670, in obtener_fecha_primera_transaccion_cliente
    docs = list(query.stream())
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
2025-11-17 01:40:56,870 INFO Fecha desde actualizada por cliente 38: None
2025-11-17 01:40:56,870 WARNING No hay datos para el filtro seleccionado, usando fecha por defecto
2025-11-17 01:40:59,953 ERROR Error al obtener primera fecha de cliente 1: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 670, in obtener_fecha_primera_transaccion_cliente
    docs = list(query.stream())
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
2025-11-17 01:40:59,957 INFO Fecha desde actualizada por cliente 1: None
2025-11-17 01:40:59,957 WARNING No hay datos para el filtro seleccionado, usando fecha por defecto
2025-11-17 01:41:01,766 ERROR Error al obtener primera fecha de cliente 21: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 670, in obtener_fecha_primera_transaccion_cliente
    docs = list(query.stream())
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
2025-11-17 01:41:01,771 INFO Fecha desde actualizada por cliente 21: None
2025-11-17 01:41:01,771 WARNING No hay datos para el filtro seleccionado, usando fecha por defecto
2025-11-17 01:41:08,767 ERROR Error al obtener primera fecha de cliente 16: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 670, in obtener_fecha_primera_transaccion_cliente
    docs = list(query.stream())
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
2025-11-17 01:41:08,771 INFO Fecha desde actualizada por cliente 16: None
2025-11-17 01:41:08,771 WARNING No hay datos para el filtro seleccionado, usando fecha por defecto
2025-11-17 01:41:21,357 ERROR Error al obtener primera fecha de cliente 6: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 670, in obtener_fecha_primera_transaccion_cliente
    docs = list(query.stream())
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
2025-11-17 01:41:21,360 INFO Fecha desde actualizada por cliente 6: None
2025-11-17 01:41:21,361 WARNING No hay datos para el filtro seleccionado, usando fecha por defecto
2025-11-17 01:42:43,383 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 01:42:46,333 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 01:43:57,658 INFO Aplicación finalizada con exit_code=0
2025-11-17 01:44:57,039 INFO Configuración cargada desde config_equipos.json
2025-11-17 01:44:57,056 INFO Tema aplicado: Oscuro
2025-11-17 01:44:57,089 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 01:44:57,089 INFO Cliente de Firestore creado correctamente
2025-11-17 01:44:57,089 INFO Firebase Manager inicializado correctamente
2025-11-17 01:44:57,090 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 01:44:57,090 INFO Backup Manager inicializado correctamente
2025-11-17 01:44:57,090 INFO Storage inicializado con bucket: equipos-zoec.appspot.com
2025-11-17 01:44:57,090 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.appspot.com
2025-11-17 01:44:57,605 INFO Ventana principal creada y mostrada
2025-11-17 01:44:57,608 INFO Cargando mapas de nombres...
2025-11-17 01:44:57,753 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 01:44:57,885 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 01:44:58,030 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 01:44:58,164 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 01:44:58,284 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 01:44:58,405 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 01:44:58,530 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 01:44:58,707 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 01:44:58,707 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 01:44:58,707 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 01:44:58,707 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 01:44:58,813 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 01:44:58,815 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 01:44:58,815 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 01:44:58,937 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 01:44:58,937 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 01:44:58,938 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 01:44:59,046 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 01:44:59,046 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 01:44:59,148 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 01:44:59,148 INFO Fecha desde actualizada con primera transacción general: 2025-01-06
2025-11-17 01:44:59,720 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 01:44:59,721 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:44:59,945 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:44:59,953 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:45:00,130 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:45:00,134 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 01:45:00,275 INFO Obtenidos 62 pagos a operadores
2025-11-17 01:45:19,215 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 01:45:23,825 INFO Cargando mapas de nombres...
2025-11-17 01:45:23,941 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 01:45:24,048 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 01:45:24,155 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 01:45:24,266 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 01:45:24,462 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 01:45:24,637 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 01:45:24,637 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 01:45:24,638 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 01:45:24,638 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 01:45:24,742 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 01:45:24,742 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 01:45:24,742 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 01:45:24,862 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 01:45:24,862 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 01:45:24,862 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 01:45:24,957 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 01:45:24,957 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 01:45:25,408 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 01:45:25,409 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:45:25,612 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:45:25,618 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 01:50:22,095 INFO Configuración cargada desde config_equipos.json
2025-11-17 01:50:22,111 INFO Tema aplicado: Oscuro
2025-11-17 01:50:22,145 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 01:50:22,146 INFO Cliente de Firestore creado correctamente
2025-11-17 01:50:22,146 INFO Firebase Manager inicializado correctamente
2025-11-17 01:50:22,147 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 01:50:22,147 INFO Backup Manager inicializado correctamente
2025-11-17 01:50:22,147 INFO Storage inicializado con bucket: equipos-zoec.appspot.com
2025-11-17 01:50:22,147 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.appspot.com
2025-11-17 01:50:22,544 INFO Ventana principal creada y mostrada
2025-11-17 01:50:22,561 INFO Cargando mapas de nombres...
2025-11-17 01:50:22,711 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 01:50:22,892 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 01:51:40,557 INFO Configuración cargada desde config_equipos.json
2025-11-17 01:51:40,573 INFO Tema aplicado: Oscuro
2025-11-17 01:51:40,607 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 01:51:40,607 INFO Cliente de Firestore creado correctamente
2025-11-17 01:51:40,607 INFO Firebase Manager inicializado correctamente
2025-11-17 01:51:40,608 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 01:51:40,608 INFO Backup Manager inicializado correctamente
2025-11-17 01:51:40,608 INFO Storage inicializado con bucket: equipos-zoec.appspot.com
2025-11-17 01:51:40,608 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.appspot.com
2025-11-17 01:51:41,143 INFO Ventana principal creada y mostrada
2025-11-17 01:51:41,145 INFO Cargando mapas de nombres...
2025-11-17 01:51:41,306 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 01:51:41,450 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 01:52:20,939 INFO Configuración cargada desde config_equipos.json
2025-11-17 01:52:20,956 INFO Tema aplicado: Oscuro
2025-11-17 01:52:20,990 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 01:52:20,991 INFO Cliente de Firestore creado correctamente
2025-11-17 01:52:20,991 INFO Firebase Manager inicializado correctamente
2025-11-17 01:52:20,992 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 01:52:20,992 INFO Backup Manager inicializado correctamente
2025-11-17 01:52:20,992 INFO Storage inicializado con bucket: equipos-zoec.appspot.com
2025-11-17 01:52:20,992 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.appspot.com
2025-11-17 01:52:21,510 INFO Ventana principal creada y mostrada
2025-11-17 01:52:21,513 INFO Cargando mapas de nombres...
2025-11-17 01:52:21,660 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 01:52:21,810 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 01:53:19,739 INFO Configuración cargada desde config_equipos.json
2025-11-17 01:53:19,756 INFO Tema aplicado: Oscuro
2025-11-17 01:53:19,789 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 01:53:19,789 INFO Cliente de Firestore creado correctamente
2025-11-17 01:53:19,789 INFO Firebase Manager inicializado correctamente
2025-11-17 01:53:19,790 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 01:53:19,790 INFO Backup Manager inicializado correctamente
2025-11-17 01:53:19,790 INFO Storage inicializado con bucket: equipos-zoec.appspot.com
2025-11-17 01:53:19,790 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.appspot.com
2025-11-17 01:53:20,371 INFO Ventana principal creada y mostrada
2025-11-17 01:53:20,373 INFO Cargando mapas de nombres...
2025-11-17 01:53:20,527 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 01:53:20,692 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 02:00:22,553 INFO Configuración cargada desde config_equipos.json
2025-11-17 02:00:22,571 INFO Tema aplicado: Oscuro
2025-11-17 02:00:22,604 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 02:00:22,604 INFO Cliente de Firestore creado correctamente
2025-11-17 02:00:22,604 INFO Firebase Manager inicializado correctamente
2025-11-17 02:00:22,605 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 02:00:22,605 INFO Backup Manager inicializado correctamente
2025-11-17 02:00:22,605 INFO Storage inicializado con bucket: equipos-zoec.appspot.com
2025-11-17 02:00:22,605 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.appspot.com
2025-11-17 02:00:22,936 INFO Ventana principal creada y mostrada
2025-11-17 02:00:22,938 INFO Cargando mapas de nombres...
2025-11-17 02:00:23,093 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 02:00:23,229 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 02:05:03,246 ERROR Error al obtener equipos (activo=None): Timeout of 300.0s exceeded, last exception: 429 Quota exceeded.
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 170, in error_remapped_callable
    return _StreamingResponseIterator(
        result, prefetch_first_result=prefetch_first
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 92, in __init__
    self._stored_first_result = next(self._wrapped)
                                ~~~~^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_channel.py", line 543, in __next__
    return self._next()
           ~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_channel.py", line 969, in _next
    raise self
grpc._channel._MultiThreadedRendezvous: <_MultiThreadedRendezvous of RPC that terminated with:
	status = StatusCode.RESOURCE_EXHAUSTED
	details = "Quota exceeded."
	debug_error_string = "UNKNOWN:Error received from peer ipv4:108.177.122.95:443 {grpc_status:8, grpc_message:"Quota exceeded."}"
>

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Quota exceeded.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 94, in obtener_equipos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 229, in _retry_error_helper
    raise final_exc from source_exc
google.api_core.exceptions.RetryError: Timeout of 300.0s exceeded, last exception: 429 Quota exceeded.
2025-11-17 02:05:03,320 CRITICAL Error CRÍTICO al cargar datos iniciales: Timeout of 300.0s exceeded, last exception: 429 Quota exceeded.
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 170, in error_remapped_callable
    return _StreamingResponseIterator(
        result, prefetch_first_result=prefetch_first
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 92, in __init__
    self._stored_first_result = next(self._wrapped)
                                ~~~~^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_channel.py", line 543, in __next__
    return self._next()
           ~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\grpc\_channel.py", line 969, in _next
    raise self
grpc._channel._MultiThreadedRendezvous: <_MultiThreadedRendezvous of RPC that terminated with:
	status = StatusCode.RESOURCE_EXHAUSTED
	details = "Quota exceeded."
	debug_error_string = "UNKNOWN:Error received from peer ipv4:108.177.122.95:443 {grpc_status:8, grpc_message:"Quota exceeded."}"
>

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 Quota exceeded.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\app_gui_qt.py", line 197, in _cargar_datos_iniciales
    equipos = self.fm.obtener_equipos(activo=None)
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 102, in obtener_equipos
    raise e # Propagar el error
    ^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 94, in obtener_equipos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 229, in _retry_error_helper
    raise final_exc from source_exc
google.api_core.exceptions.RetryError: Timeout of 300.0s exceeded, last exception: 429 Quota exceeded.
2025-11-17 02:13:21,899 INFO Aplicación finalizada con exit_code=0
2025-11-17 02:13:42,399 INFO Configuración cargada desde config_equipos.json
2025-11-17 02:13:42,416 INFO Tema aplicado: Oscuro
2025-11-17 02:13:42,449 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 02:13:42,449 INFO Cliente de Firestore creado correctamente
2025-11-17 02:13:42,449 INFO Firebase Manager inicializado correctamente
2025-11-17 02:13:42,450 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 02:13:42,450 INFO Backup Manager inicializado correctamente
2025-11-17 02:13:42,450 INFO Storage inicializado con bucket: equipos-zoec.appspot.com
2025-11-17 02:13:42,450 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.appspot.com
2025-11-17 02:13:42,945 INFO Ventana principal creada y mostrada
2025-11-17 02:13:42,949 INFO Cargando mapas de nombres...
2025-11-17 02:13:43,113 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 02:13:43,264 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 02:13:43,697 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 02:13:44,166 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 02:13:45,408 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 02:13:47,008 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 02:13:47,143 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 02:13:47,397 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 02:13:47,397 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 02:13:47,397 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 02:13:47,397 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 02:13:47,764 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 02:13:47,765 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 02:13:47,765 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 02:13:48,219 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 02:13:48,219 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 02:13:48,219 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 02:27:33,015 INFO Configuración cargada desde config_equipos.json
2025-11-17 02:27:33,032 INFO Tema aplicado: Oscuro
2025-11-17 02:27:33,064 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 02:27:33,065 INFO Cliente de Firestore creado correctamente
2025-11-17 02:27:33,065 INFO Firebase Manager inicializado correctamente
2025-11-17 02:27:33,065 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 02:27:33,065 INFO Backup Manager inicializado correctamente
2025-11-17 02:27:33,066 INFO Storage inicializado con bucket: equipos-zoec.appspot.com
2025-11-17 02:27:33,066 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.appspot.com
2025-11-17 02:27:34,032 INFO Ventana principal creada y mostrada
2025-11-17 02:27:34,033 INFO Cargando mapas de nombres...
2025-11-17 02:27:34,191 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 02:27:34,329 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 02:27:34,458 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 02:27:34,881 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 02:27:35,298 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 02:27:35,716 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 02:27:36,164 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 02:27:36,658 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 02:27:36,658 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 02:27:36,659 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 02:27:36,659 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 02:27:36,756 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 02:27:36,758 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 02:27:36,758 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 02:27:36,897 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 02:27:36,897 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 02:27:36,897 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 02:27:37,010 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 02:27:37,011 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 02:27:37,124 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 02:27:37,125 INFO Fecha desde actualizada con primera transacción general: 2025-01-06
2025-11-17 02:27:37,614 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 02:27:37,615 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:27:37,794 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:27:37,800 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:27:37,991 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:27:37,998 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 02:27:38,132 INFO Obtenidos 62 pagos a operadores
2025-11-17 02:27:58,753 INFO Abriendo editor de imagen para: D:/Dropbox/TRABAJOS/INGENIERIA/EQUIPOS PESADOS/CONDUCES/00318.jpeg
2025-11-17 02:27:58,788 DEBUG Imagen cargada con PIL: D:/Dropbox/TRABAJOS/INGENIERIA/EQUIPOS PESADOS/CONDUCES/00318.jpeg (1200x1600)
2025-11-17 02:28:06,092 INFO Archivo temporal creado: C:\Users\servi\AppData\Local\Temp\conduce_editado_rw60uxsi.jpeg
2025-11-17 02:28:06,095 INFO Imagen editada guardada correctamente en: C:\Users\servi\AppData\Local\Temp\conduce_editado_rw60uxsi.jpeg
2025-11-17 02:28:07,620 INFO Iniciando subida de conduce: C:\Users\servi\AppData\Local\Temp\conduce_editado_rw60uxsi.jpeg
2025-11-17 02:28:07,620 INFO === Iniciando subida de conduce ===
2025-11-17 02:28:07,620 INFO Archivo: C:\Users\servi\AppData\Local\Temp\conduce_editado_rw60uxsi.jpeg
2025-11-17 02:28:07,620 INFO Alquiler: {'fecha': '2025-11-17', 'conduce': 'p021', 'id': '7546e1f7-b19c-4a82-8adb-2b9417a1d28f'}
2025-11-17 02:28:07,620 INFO Procesar imagen: True
2025-11-17 02:28:07,620 INFO Tamaño del archivo: 153148 bytes (0.15 MB)
2025-11-17 02:28:07,651 INFO Imagen procesada: C:\Users\servi\AppData\Local\Temp\conduce_editado_rw60uxsi.jpeg -> C:\Users\servi\AppData\Local\Temp\tmp2h307fpy.jpeg
2025-11-17 02:28:07,651 INFO Ruta de storage construida: conduces/2025/11/p021.jpeg
2025-11-17 02:28:07,698 DEBUG Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
2025-11-17 02:28:07,705 DEBUG Starting new HTTPS connection (1): storage.googleapis.com:443
2025-11-17 02:28:08,224 DEBUG https://storage.googleapis.com:443 "POST /upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart HTTP/1.1" 404 247
2025-11-17 02:28:08,228 ERROR Error al guardar conduce: 404 POST https://storage.googleapis.com/upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart: {
  "error": {
    "code": 404,
    "message": "The specified bucket does not exist.",
    "errors": [
      {
        "message": "The specified bucket does not exist.",
        "domain": "global",
        "reason": "notFound"
      }
    ]
  }
}
: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2837, in _prep_and_do_upload
    created_json = self._do_upload(
        client,
    ...<12 lines>...
        crc32c_checksum_value=crc32c_checksum_value,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2632, in _do_upload
    response = self._do_multipart_upload(
        client,
    ...<11 lines>...
        command=command,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2062, in _do_multipart_upload
    response = upload.transmit(
        transport, data, object_metadata, content_type, timeout=timeout
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\upload.py", line 162, in transmit
    return _request_helpers.wait_and_retry(retriable_request, self._retry_strategy)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\_request_helpers.py", line 107, in wait_and_retry
    return func()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\upload.py", line 158, in retriable_request
    self._process_response(result)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\_upload.py", line 135, in _process_response
    _helpers.require_status_code(response, (http.client.OK,), self._get_status_code)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\_helpers.py", line 105, in require_status_code
    raise InvalidResponse(
    ...<5 lines>...
    )
google.cloud.storage.exceptions.InvalidResponse: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\storage_manager.py", line 153, in guardar_conduce
    blob.upload_from_filename(archivo_a_subir)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 3200, in upload_from_filename
    self._handle_filename_and_upload(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        filename,
        ^^^^^^^^^
    ...<10 lines>...
        crc32c_checksum_value=crc32c_checksum_value,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 3050, in _handle_filename_and_upload
    self._prep_and_do_upload(
    ~~~~~~~~~~~~~~~~~~~~~~~~^
        file_obj,
        ^^^^^^^^^
    ...<3 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2855, in _prep_and_do_upload
    _raise_from_invalid_response(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 5147, in _raise_from_invalid_response
    raise exceptions.from_http_status(response.status_code, message, response=response)
google.api_core.exceptions.NotFound: 404 POST https://storage.googleapis.com/upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart: {
  "error": {
    "code": 404,
    "message": "The specified bucket does not exist.",
    "errors": [
      {
        "message": "The specified bucket does not exist.",
        "domain": "global",
        "reason": "notFound"
      }
    ]
  }
}
: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)
2025-11-17 02:28:08,237 WARNING No se pudo subir el conduce. El alquiler se guardará sin conduce adjunto.
2025-11-17 02:28:08,237 WARNING Revise los logs para más detalles del error
2025-11-17 02:28:22,751 INFO Alquiler 7546e1f7-b19c-4a82-8adb-2b9417a1d28f actualizado
2025-11-17 02:28:24,228 INFO Alquiler 7546e1f7-b19c-4a82-8adb-2b9417a1d28f actualizado
2025-11-17 02:28:24,234 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:28:24,440 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:30:48,760 INFO Aplicación finalizada con exit_code=0
2025-11-17 02:37:13,848 INFO Configuración cargada desde config_equipos.json
2025-11-17 02:37:13,865 INFO Tema aplicado: Oscuro
2025-11-17 02:37:13,904 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 02:37:13,904 INFO Cliente de Firestore creado correctamente
2025-11-17 02:37:13,904 INFO Firebase Manager inicializado correctamente
2025-11-17 02:37:13,905 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 02:37:13,905 INFO Backup Manager inicializado correctamente
2025-11-17 02:37:13,905 INFO Storage inicializado con bucket: equipos-zoec.appspot.com
2025-11-17 02:37:13,905 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.appspot.com
2025-11-17 02:37:14,443 INFO Ventana principal creada y mostrada
2025-11-17 02:37:14,446 INFO Cargando mapas de nombres...
2025-11-17 02:37:14,592 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 02:37:14,723 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 02:37:14,854 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 02:37:15,276 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 02:37:15,705 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 02:37:16,114 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 02:37:16,552 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 02:37:17,041 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 02:37:17,041 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 02:37:17,041 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 02:37:17,042 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 02:37:17,141 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 02:37:17,142 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 02:37:17,142 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 02:37:17,242 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 02:37:17,243 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 02:37:17,243 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 02:37:17,346 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 02:37:17,346 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 02:37:17,446 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 02:37:17,446 INFO Fecha desde actualizada con primera transacción general: 2025-01-06
2025-11-17 02:37:17,926 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 02:37:17,926 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:37:18,120 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:37:18,126 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:37:18,316 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:37:18,320 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 02:37:18,450 INFO Obtenidos 62 pagos a operadores
2025-11-17 02:37:34,709 INFO Abriendo editor de imagen para: D:/Dropbox/TRABAJOS/INGENIERIA/EQUIPOS PESADOS/CONDUCES/0322.jpeg (0.24 MB)
2025-11-17 02:37:34,746 DEBUG Imagen cargada con PIL: D:/Dropbox/TRABAJOS/INGENIERIA/EQUIPOS PESADOS/CONDUCES/0322.jpeg (1200x1600)
2025-11-17 02:38:00,645 INFO Imagen redimensionada de (1600, 1200) a (1067, 800)
2025-11-17 02:38:00,647 INFO Archivo temporal creado: C:\Users\servi\AppData\Local\Temp\conduce_editado_hwdalb1w.jpeg
2025-11-17 02:38:00,647 INFO Guardando imagen editada (1067x800) con calidad 85
2025-11-17 02:38:00,654 INFO Imagen editada guardada correctamente en: C:\Users\servi\AppData\Local\Temp\conduce_editado_hwdalb1w.jpeg (0.15 MB)
2025-11-17 02:38:02,526 INFO Iniciando subida de conduce: C:\Users\servi\AppData\Local\Temp\conduce_editado_hwdalb1w.jpeg
2025-11-17 02:38:02,526 INFO === Iniciando subida de conduce ===
2025-11-17 02:38:02,526 INFO Archivo: C:\Users\servi\AppData\Local\Temp\conduce_editado_hwdalb1w.jpeg
2025-11-17 02:38:02,526 INFO Alquiler: {'fecha': '2025-11-17', 'conduce': 'p021', 'id': '7546e1f7-b19c-4a82-8adb-2b9417a1d28f'}
2025-11-17 02:38:02,526 INFO Procesar imagen: True
2025-11-17 02:38:02,527 INFO Tamaño del archivo: 158476 bytes (0.15 MB)
2025-11-17 02:38:02,543 INFO Redimensionando imagen de (1067, 800) a (1067, 800)
2025-11-17 02:38:02,550 INFO Imagen procesada y guardada: C:\Users\servi\AppData\Local\Temp\tmp8xh_1seg.jpeg (0.15 MB, calidad=85)
2025-11-17 02:38:02,551 INFO Ruta de storage construida: conduces/2025/11/p021.jpeg
2025-11-17 02:38:02,597 DEBUG Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
2025-11-17 02:38:02,603 DEBUG Starting new HTTPS connection (1): storage.googleapis.com:443
2025-11-17 02:38:03,174 DEBUG https://storage.googleapis.com:443 "POST /upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart HTTP/1.1" 404 247
2025-11-17 02:38:03,179 ERROR Error al guardar conduce: 404 POST https://storage.googleapis.com/upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart: {
  "error": {
    "code": 404,
    "message": "The specified bucket does not exist.",
    "errors": [
      {
        "message": "The specified bucket does not exist.",
        "domain": "global",
        "reason": "notFound"
      }
    ]
  }
}
: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2837, in _prep_and_do_upload
    created_json = self._do_upload(
        client,
    ...<12 lines>...
        crc32c_checksum_value=crc32c_checksum_value,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2632, in _do_upload
    response = self._do_multipart_upload(
        client,
    ...<11 lines>...
        command=command,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2062, in _do_multipart_upload
    response = upload.transmit(
        transport, data, object_metadata, content_type, timeout=timeout
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\upload.py", line 162, in transmit
    return _request_helpers.wait_and_retry(retriable_request, self._retry_strategy)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\_request_helpers.py", line 107, in wait_and_retry
    return func()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\upload.py", line 158, in retriable_request
    self._process_response(result)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\_upload.py", line 135, in _process_response
    _helpers.require_status_code(response, (http.client.OK,), self._get_status_code)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\_helpers.py", line 105, in require_status_code
    raise InvalidResponse(
    ...<5 lines>...
    )
google.cloud.storage.exceptions.InvalidResponse: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\storage_manager.py", line 182, in guardar_conduce
    blob.upload_from_filename(archivo_a_subir)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 3200, in upload_from_filename
    self._handle_filename_and_upload(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        filename,
        ^^^^^^^^^
    ...<10 lines>...
        crc32c_checksum_value=crc32c_checksum_value,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 3050, in _handle_filename_and_upload
    self._prep_and_do_upload(
    ~~~~~~~~~~~~~~~~~~~~~~~~^
        file_obj,
        ^^^^^^^^^
    ...<3 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2855, in _prep_and_do_upload
    _raise_from_invalid_response(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 5147, in _raise_from_invalid_response
    raise exceptions.from_http_status(response.status_code, message, response=response)
google.api_core.exceptions.NotFound: 404 POST https://storage.googleapis.com/upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart: {
  "error": {
    "code": 404,
    "message": "The specified bucket does not exist.",
    "errors": [
      {
        "message": "The specified bucket does not exist.",
        "domain": "global",
        "reason": "notFound"
      }
    ]
  }
}
: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)
2025-11-17 02:38:03,188 WARNING No se pudo subir el conduce. El alquiler se guardará sin conduce adjunto.
2025-11-17 02:38:03,188 WARNING Revise los logs para más detalles del error
2025-11-17 02:38:41,883 INFO Alquiler 7546e1f7-b19c-4a82-8adb-2b9417a1d28f actualizado
2025-11-17 02:38:43,211 INFO Alquiler 7546e1f7-b19c-4a82-8adb-2b9417a1d28f actualizado
2025-11-17 02:38:43,216 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:38:43,401 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:38:45,755 INFO Aplicación finalizada con exit_code=0
2025-11-17 02:49:39,169 INFO Configuración cargada desde config_equipos.json
2025-11-17 02:49:39,187 INFO Tema aplicado: Oscuro
2025-11-17 02:49:39,221 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 02:49:39,221 INFO Cliente de Firestore creado correctamente
2025-11-17 02:49:39,222 INFO Firebase Manager inicializado correctamente
2025-11-17 02:49:39,222 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 02:49:39,222 INFO Backup Manager inicializado correctamente
2025-11-17 02:49:39,223 INFO Storage inicializado con bucket: equipos-zoec.appspot.com
2025-11-17 02:49:39,223 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.appspot.com
2025-11-17 02:49:39,996 INFO Ventana principal creada y mostrada
2025-11-17 02:49:39,998 INFO Cargando mapas de nombres...
2025-11-17 02:49:40,168 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 02:49:40,307 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 02:49:40,434 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 02:49:40,869 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 02:49:41,299 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 02:49:41,733 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 02:49:42,193 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 02:49:42,775 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 02:49:42,775 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 02:49:42,775 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 02:49:42,775 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 02:49:42,881 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 02:49:42,883 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 02:49:42,883 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 02:49:42,998 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 02:49:42,998 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 02:49:42,999 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 02:49:43,104 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 02:49:43,105 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 02:49:43,227 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 02:49:43,227 INFO Fecha desde actualizada con primera transacción general: 2025-01-06
2025-11-17 02:49:43,745 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 02:49:43,745 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:49:43,919 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:49:43,925 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:49:44,099 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:49:44,103 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 02:49:44,226 INFO Obtenidos 62 pagos a operadores
2025-11-17 02:49:53,490 INFO Abriendo editor de imagen para: D:/Dropbox/TRABAJOS/INGENIERIA/EQUIPOS PESADOS/CONDUCES/00317.jpeg (0.20 MB)
2025-11-17 02:49:53,522 DEBUG Imagen cargada con PIL: D:/Dropbox/TRABAJOS/INGENIERIA/EQUIPOS PESADOS/CONDUCES/00317.jpeg (1200x1600)
2025-11-17 02:50:01,727 INFO Imagen redimensionada de (1600, 1200) a (1067, 800)
2025-11-17 02:50:01,728 INFO Archivo temporal creado: C:\Users\servi\AppData\Local\Temp\conduce_editado_sa0aq60z.jpeg
2025-11-17 02:50:01,728 INFO Guardando imagen editada (1067x800) con calidad 85
2025-11-17 02:50:01,735 INFO Imagen editada guardada correctamente en: C:\Users\servi\AppData\Local\Temp\conduce_editado_sa0aq60z.jpeg (0.13 MB)
2025-11-17 02:50:03,173 INFO Iniciando subida de conduce: C:\Users\servi\AppData\Local\Temp\conduce_editado_sa0aq60z.jpeg
2025-11-17 02:50:03,173 INFO === Iniciando subida de conduce ===
2025-11-17 02:50:03,173 INFO Archivo: C:\Users\servi\AppData\Local\Temp\conduce_editado_sa0aq60z.jpeg
2025-11-17 02:50:03,173 INFO Alquiler: {'fecha': '2025-11-17', 'conduce': 'p021', 'id': '7546e1f7-b19c-4a82-8adb-2b9417a1d28f'}
2025-11-17 02:50:03,173 INFO Procesar imagen: True
2025-11-17 02:50:03,173 INFO Tamaño del archivo: 138540 bytes (0.13 MB)
2025-11-17 02:50:03,190 INFO Redimensionando imagen de (1067, 800) a (1067, 800)
2025-11-17 02:50:03,199 INFO Imagen procesada y guardada: C:\Users\servi\AppData\Local\Temp\tmp84r_ubws.jpeg (0.13 MB, calidad=85)
2025-11-17 02:50:03,199 INFO Ruta de storage construida: conduces/2025/11/p021.jpeg
2025-11-17 02:50:03,199 INFO Subiendo archivo a Storage: C:\Users\servi\AppData\Local\Temp\tmp84r_ubws.jpeg -> conduces/2025/11/p021.jpeg
2025-11-17 02:50:03,237 DEBUG Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
2025-11-17 02:50:03,244 DEBUG Starting new HTTPS connection (1): storage.googleapis.com:443
2025-11-17 02:50:03,711 DEBUG https://storage.googleapis.com:443 "POST /upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart HTTP/1.1" 404 247
2025-11-17 02:50:03,713 ERROR Error al subir archivo a Storage: 404 POST https://storage.googleapis.com/upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart: {
  "error": {
    "code": 404,
    "message": "The specified bucket does not exist.",
    "errors": [
      {
        "message": "The specified bucket does not exist.",
        "domain": "global",
        "reason": "notFound"
      }
    ]
  }
}
: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2837, in _prep_and_do_upload
    created_json = self._do_upload(
        client,
    ...<12 lines>...
        crc32c_checksum_value=crc32c_checksum_value,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2632, in _do_upload
    response = self._do_multipart_upload(
        client,
    ...<11 lines>...
        command=command,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2062, in _do_multipart_upload
    response = upload.transmit(
        transport, data, object_metadata, content_type, timeout=timeout
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\upload.py", line 162, in transmit
    return _request_helpers.wait_and_retry(retriable_request, self._retry_strategy)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\_request_helpers.py", line 107, in wait_and_retry
    return func()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\upload.py", line 158, in retriable_request
    self._process_response(result)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\_upload.py", line 135, in _process_response
    _helpers.require_status_code(response, (http.client.OK,), self._get_status_code)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\_helpers.py", line 105, in require_status_code
    raise InvalidResponse(
    ...<5 lines>...
    )
google.cloud.storage.exceptions.InvalidResponse: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\storage_manager.py", line 185, in guardar_conduce
    blob.upload_from_filename(archivo_a_subir)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 3200, in upload_from_filename
    self._handle_filename_and_upload(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        filename,
        ^^^^^^^^^
    ...<10 lines>...
        crc32c_checksum_value=crc32c_checksum_value,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 3050, in _handle_filename_and_upload
    self._prep_and_do_upload(
    ~~~~~~~~~~~~~~~~~~~~~~~~^
        file_obj,
        ^^^^^^^^^
    ...<3 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2855, in _prep_and_do_upload
    _raise_from_invalid_response(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 5147, in _raise_from_invalid_response
    raise exceptions.from_http_status(response.status_code, message, response=response)
google.api_core.exceptions.NotFound: 404 POST https://storage.googleapis.com/upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart: {
  "error": {
    "code": 404,
    "message": "The specified bucket does not exist.",
    "errors": [
      {
        "message": "The specified bucket does not exist.",
        "domain": "global",
        "reason": "notFound"
      }
    ]
  }
}
: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)
2025-11-17 02:50:03,717 ERROR Error al guardar conduce: Error al subir archivo: 404 POST https://storage.googleapis.com/upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart: {
  "error": {
    "code": 404,
    "message": "The specified bucket does not exist.",
    "errors": [
      {
        "message": "The specified bucket does not exist.",
        "domain": "global",
        "reason": "notFound"
      }
    ]
  }
}
: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2837, in _prep_and_do_upload
    created_json = self._do_upload(
        client,
    ...<12 lines>...
        crc32c_checksum_value=crc32c_checksum_value,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2632, in _do_upload
    response = self._do_multipart_upload(
        client,
    ...<11 lines>...
        command=command,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2062, in _do_multipart_upload
    response = upload.transmit(
        transport, data, object_metadata, content_type, timeout=timeout
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\upload.py", line 162, in transmit
    return _request_helpers.wait_and_retry(retriable_request, self._retry_strategy)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\_request_helpers.py", line 107, in wait_and_retry
    return func()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\upload.py", line 158, in retriable_request
    self._process_response(result)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\_upload.py", line 135, in _process_response
    _helpers.require_status_code(response, (http.client.OK,), self._get_status_code)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\_helpers.py", line 105, in require_status_code
    raise InvalidResponse(
    ...<5 lines>...
    )
google.cloud.storage.exceptions.InvalidResponse: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\storage_manager.py", line 185, in guardar_conduce
    blob.upload_from_filename(archivo_a_subir)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 3200, in upload_from_filename
    self._handle_filename_and_upload(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        filename,
        ^^^^^^^^^
    ...<10 lines>...
        crc32c_checksum_value=crc32c_checksum_value,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 3050, in _handle_filename_and_upload
    self._prep_and_do_upload(
    ~~~~~~~~~~~~~~~~~~~~~~~~^
        file_obj,
        ^^^^^^^^^
    ...<3 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2855, in _prep_and_do_upload
    _raise_from_invalid_response(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 5147, in _raise_from_invalid_response
    raise exceptions.from_http_status(response.status_code, message, response=response)
google.api_core.exceptions.NotFound: 404 POST https://storage.googleapis.com/upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart: {
  "error": {
    "code": 404,
    "message": "The specified bucket does not exist.",
    "errors": [
      {
        "message": "The specified bucket does not exist.",
        "domain": "global",
        "reason": "notFound"
      }
    ]
  }
}
: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\storage_manager.py", line 189, in guardar_conduce
    raise Exception(f"Error al subir archivo: {e_upload}")
Exception: Error al subir archivo: 404 POST https://storage.googleapis.com/upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart: {
  "error": {
    "code": 404,
    "message": "The specified bucket does not exist.",
    "errors": [
      {
        "message": "The specified bucket does not exist.",
        "domain": "global",
        "reason": "notFound"
      }
    ]
  }
}
: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)
2025-11-17 02:50:03,719 ERROR No se pudo subir el conduce. El alquiler se guardará sin conduce adjunto.
2025-11-17 02:50:03,719 ERROR Detalles: La función guardar_conduce retornó éxito=False
2025-11-17 02:50:03,719 ERROR Revise los logs anteriores para el error específico de Storage
2025-11-17 02:50:10,319 INFO Alquiler 7546e1f7-b19c-4a82-8adb-2b9417a1d28f actualizado
2025-11-17 02:50:11,368 INFO Alquiler 7546e1f7-b19c-4a82-8adb-2b9417a1d28f actualizado
2025-11-17 02:50:11,374 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:50:11,574 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:50:14,000 INFO Aplicación finalizada con exit_code=0
2025-11-17 02:51:36,604 INFO Configuración cargada desde config_equipos.json
2025-11-17 02:51:36,621 INFO Tema aplicado: Oscuro
2025-11-17 02:51:36,655 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 02:51:36,655 INFO Cliente de Firestore creado correctamente
2025-11-17 02:51:36,655 INFO Firebase Manager inicializado correctamente
2025-11-17 02:51:36,656 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 02:51:36,657 INFO Backup Manager inicializado correctamente
2025-11-17 02:51:36,657 INFO Storage inicializado con bucket: equipos-zoec.appspot.com
2025-11-17 02:51:36,657 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.appspot.com
2025-11-17 02:51:37,164 INFO Ventana principal creada y mostrada
2025-11-17 02:51:37,166 INFO Cargando mapas de nombres...
2025-11-17 02:51:37,307 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 02:51:37,450 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 02:51:37,575 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 02:51:38,010 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 02:51:38,458 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 02:51:38,899 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 02:51:39,320 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 02:51:39,795 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 02:51:39,795 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 02:51:39,796 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 02:51:39,796 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 02:51:39,895 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 02:51:39,896 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 02:51:39,897 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 02:51:40,009 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 02:51:40,009 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 02:51:40,010 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 02:51:40,117 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 02:51:40,117 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 02:51:40,225 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 02:51:40,226 INFO Fecha desde actualizada con primera transacción general: 2025-01-06
2025-11-17 02:51:40,902 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 02:51:40,902 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:51:41,113 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:51:41,121 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:51:41,311 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:51:41,315 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 02:51:41,437 INFO Obtenidos 62 pagos a operadores
2025-11-17 02:51:53,311 INFO Abriendo editor de imagen para: D:/Dropbox/TRABAJOS/INGENIERIA/EQUIPOS PESADOS/CONDUCES/00333.jpeg (0.19 MB)
2025-11-17 02:51:53,343 DEBUG Imagen cargada con PIL: D:/Dropbox/TRABAJOS/INGENIERIA/EQUIPOS PESADOS/CONDUCES/00333.jpeg (1600x1200)
2025-11-17 02:51:57,804 INFO Imagen redimensionada de (1600, 1200) a (1067, 800)
2025-11-17 02:51:57,806 INFO Archivo temporal creado: C:\Users\servi\AppData\Local\Temp\conduce_editado_v1w9q0rc.jpeg
2025-11-17 02:51:57,806 INFO Guardando imagen editada (1067x800) con calidad 85
2025-11-17 02:51:57,813 INFO Imagen editada guardada correctamente en: C:\Users\servi\AppData\Local\Temp\conduce_editado_v1w9q0rc.jpeg (0.13 MB)
2025-11-17 02:51:59,510 INFO Iniciando subida de conduce: C:\Users\servi\AppData\Local\Temp\conduce_editado_v1w9q0rc.jpeg
2025-11-17 02:51:59,510 INFO === Iniciando subida de conduce ===
2025-11-17 02:51:59,510 INFO Archivo: C:\Users\servi\AppData\Local\Temp\conduce_editado_v1w9q0rc.jpeg
2025-11-17 02:51:59,510 INFO Alquiler: {'fecha': '2025-11-17', 'conduce': 'p021', 'id': '7546e1f7-b19c-4a82-8adb-2b9417a1d28f'}
2025-11-17 02:51:59,510 INFO Procesar imagen: True
2025-11-17 02:51:59,510 INFO Tamaño del archivo: 135038 bytes (0.13 MB)
2025-11-17 02:51:59,529 INFO Redimensionando imagen de (1067, 800) a (1067, 800)
2025-11-17 02:51:59,537 INFO Imagen procesada y guardada: C:\Users\servi\AppData\Local\Temp\tmplarozltq.jpeg (0.13 MB, calidad=85)
2025-11-17 02:51:59,537 INFO Ruta de storage construida: conduces/2025/11/p021.jpeg
2025-11-17 02:51:59,537 INFO Subiendo archivo a Storage: C:\Users\servi\AppData\Local\Temp\tmplarozltq.jpeg -> conduces/2025/11/p021.jpeg
2025-11-17 02:51:59,574 DEBUG Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
2025-11-17 02:51:59,579 DEBUG Starting new HTTPS connection (1): storage.googleapis.com:443
2025-11-17 02:52:00,192 DEBUG https://storage.googleapis.com:443 "POST /upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart HTTP/1.1" 404 247
2025-11-17 02:52:00,198 ERROR Error al subir archivo a Storage: 404 POST https://storage.googleapis.com/upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart: {
  "error": {
    "code": 404,
    "message": "The specified bucket does not exist.",
    "errors": [
      {
        "message": "The specified bucket does not exist.",
        "domain": "global",
        "reason": "notFound"
      }
    ]
  }
}
: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2837, in _prep_and_do_upload
    created_json = self._do_upload(
        client,
    ...<12 lines>...
        crc32c_checksum_value=crc32c_checksum_value,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2632, in _do_upload
    response = self._do_multipart_upload(
        client,
    ...<11 lines>...
        command=command,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2062, in _do_multipart_upload
    response = upload.transmit(
        transport, data, object_metadata, content_type, timeout=timeout
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\upload.py", line 162, in transmit
    return _request_helpers.wait_and_retry(retriable_request, self._retry_strategy)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\_request_helpers.py", line 107, in wait_and_retry
    return func()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\upload.py", line 158, in retriable_request
    self._process_response(result)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\_upload.py", line 135, in _process_response
    _helpers.require_status_code(response, (http.client.OK,), self._get_status_code)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\_helpers.py", line 105, in require_status_code
    raise InvalidResponse(
    ...<5 lines>...
    )
google.cloud.storage.exceptions.InvalidResponse: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\storage_manager.py", line 185, in guardar_conduce
    blob.upload_from_filename(archivo_a_subir)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 3200, in upload_from_filename
    self._handle_filename_and_upload(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        filename,
        ^^^^^^^^^
    ...<10 lines>...
        crc32c_checksum_value=crc32c_checksum_value,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 3050, in _handle_filename_and_upload
    self._prep_and_do_upload(
    ~~~~~~~~~~~~~~~~~~~~~~~~^
        file_obj,
        ^^^^^^^^^
    ...<3 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2855, in _prep_and_do_upload
    _raise_from_invalid_response(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 5147, in _raise_from_invalid_response
    raise exceptions.from_http_status(response.status_code, message, response=response)
google.api_core.exceptions.NotFound: 404 POST https://storage.googleapis.com/upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart: {
  "error": {
    "code": 404,
    "message": "The specified bucket does not exist.",
    "errors": [
      {
        "message": "The specified bucket does not exist.",
        "domain": "global",
        "reason": "notFound"
      }
    ]
  }
}
: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)
2025-11-17 02:52:00,203 ERROR Error al guardar conduce: Error al subir archivo: 404 POST https://storage.googleapis.com/upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart: {
  "error": {
    "code": 404,
    "message": "The specified bucket does not exist.",
    "errors": [
      {
        "message": "The specified bucket does not exist.",
        "domain": "global",
        "reason": "notFound"
      }
    ]
  }
}
: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)
Traceback (most recent call last):
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2837, in _prep_and_do_upload
    created_json = self._do_upload(
        client,
    ...<12 lines>...
        crc32c_checksum_value=crc32c_checksum_value,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2632, in _do_upload
    response = self._do_multipart_upload(
        client,
    ...<11 lines>...
        command=command,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2062, in _do_multipart_upload
    response = upload.transmit(
        transport, data, object_metadata, content_type, timeout=timeout
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\upload.py", line 162, in transmit
    return _request_helpers.wait_and_retry(retriable_request, self._retry_strategy)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\_request_helpers.py", line 107, in wait_and_retry
    return func()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\requests\upload.py", line 158, in retriable_request
    self._process_response(result)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\_upload.py", line 135, in _process_response
    _helpers.require_status_code(response, (http.client.OK,), self._get_status_code)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\_media\_helpers.py", line 105, in require_status_code
    raise InvalidResponse(
    ...<5 lines>...
    )
google.cloud.storage.exceptions.InvalidResponse: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\storage_manager.py", line 185, in guardar_conduce
    blob.upload_from_filename(archivo_a_subir)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 3200, in upload_from_filename
    self._handle_filename_and_upload(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        filename,
        ^^^^^^^^^
    ...<10 lines>...
        crc32c_checksum_value=crc32c_checksum_value,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 3050, in _handle_filename_and_upload
    self._prep_and_do_upload(
    ~~~~~~~~~~~~~~~~~~~~~~~~^
        file_obj,
        ^^^^^^^^^
    ...<3 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 2855, in _prep_and_do_upload
    _raise_from_invalid_response(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\storage\blob.py", line 5147, in _raise_from_invalid_response
    raise exceptions.from_http_status(response.status_code, message, response=response)
google.api_core.exceptions.NotFound: 404 POST https://storage.googleapis.com/upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart: {
  "error": {
    "code": 404,
    "message": "The specified bucket does not exist.",
    "errors": [
      {
        "message": "The specified bucket does not exist.",
        "domain": "global",
        "reason": "notFound"
      }
    ]
  }
}
: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\storage_manager.py", line 189, in guardar_conduce
    raise Exception(f"Error al subir archivo: {e_upload}")
Exception: Error al subir archivo: 404 POST https://storage.googleapis.com/upload/storage/v1/b/equipos-zoec.appspot.com/o?uploadType=multipart: {
  "error": {
    "code": 404,
    "message": "The specified bucket does not exist.",
    "errors": [
      {
        "message": "The specified bucket does not exist.",
        "domain": "global",
        "reason": "notFound"
      }
    ]
  }
}
: ('Request failed with status code', 404, 'Expected one of', <HTTPStatus.OK: 200>)
2025-11-17 02:52:00,205 ERROR No se pudo subir el conduce. El alquiler se guardará sin conduce adjunto.
2025-11-17 02:52:00,205 ERROR Detalles: La función guardar_conduce retornó éxito=False
2025-11-17 02:52:00,205 ERROR Revise los logs anteriores para el error específico de Storage
2025-11-17 02:52:11,280 INFO Alquiler 7546e1f7-b19c-4a82-8adb-2b9417a1d28f actualizado
2025-11-17 02:52:12,872 INFO Alquiler 7546e1f7-b19c-4a82-8adb-2b9417a1d28f actualizado
2025-11-17 02:52:12,881 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:52:13,079 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 02:52:13,829 INFO Aplicación finalizada con exit_code=0
2025-11-17 03:16:45,982 INFO Configuración cargada desde config_equipos.json
2025-11-17 03:16:46,017 INFO Tema aplicado: Oscuro
2025-11-17 03:16:46,067 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 03:16:46,067 INFO Cliente de Firestore creado correctamente
2025-11-17 03:16:46,067 INFO Firebase Manager inicializado correctamente
2025-11-17 03:16:46,068 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 03:16:46,068 INFO Backup Manager inicializado correctamente
2025-11-17 03:16:46,069 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-17 03:16:46,069 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-17 03:16:47,950 INFO Ventana principal creada y mostrada
2025-11-17 03:16:47,953 INFO Cargando mapas de nombres...
2025-11-17 03:16:48,136 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 03:16:48,296 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 03:16:48,446 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 03:16:49,107 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 03:16:49,543 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 03:16:50,075 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 03:16:50,523 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 03:16:51,106 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 03:16:51,106 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 03:16:51,107 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 03:16:51,107 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 03:16:51,214 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 03:16:51,217 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 03:16:51,217 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 03:16:51,326 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 03:16:51,327 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 03:16:51,327 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 03:16:51,547 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 03:16:51,548 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 03:16:51,666 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 03:16:51,667 INFO Fecha desde actualizada con primera transacción general: 2025-01-06
2025-11-17 03:16:52,230 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 03:16:52,230 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 03:16:52,504 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 03:16:52,520 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 03:16:52,825 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 03:16:52,840 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 03:16:52,999 INFO Obtenidos 62 pagos a operadores
2025-11-17 03:17:10,428 INFO Abriendo editor de imagen para: D:/Dropbox/TRABAJOS/INGENIERIA/EQUIPOS PESADOS/CONDUCES/00609.jpeg (0.24 MB)
2025-11-17 03:17:10,492 DEBUG tag: Orientation (274) - type: short (3) - value: b'\x00\x08'
2025-11-17 03:17:10,500 DEBUG tag: Orientation (274) - type: short (3) - value: b'\x00\x08'
2025-11-17 03:17:10,503 DEBUG Imagen cargada con PIL: D:/Dropbox/TRABAJOS/INGENIERIA/EQUIPOS PESADOS/CONDUCES/00609.jpeg (1600x1200)
2025-11-17 03:17:14,729 INFO Imagen redimensionada de (1600, 1200) a (1067, 800)
2025-11-17 03:17:14,735 INFO Archivo temporal creado: C:\Users\servi\AppData\Local\Temp\conduce_editado_r_jmd3a7.jpeg
2025-11-17 03:17:14,735 INFO Guardando imagen editada (1067x800) con calidad 85
2025-11-17 03:17:14,746 INFO Imagen editada guardada correctamente en: C:\Users\servi\AppData\Local\Temp\conduce_editado_r_jmd3a7.jpeg (0.15 MB)
2025-11-17 03:17:15,954 INFO Iniciando subida de conduce: C:\Users\servi\AppData\Local\Temp\conduce_editado_r_jmd3a7.jpeg
2025-11-17 03:17:15,954 INFO === Iniciando subida de conduce ===
2025-11-17 03:17:15,954 INFO Archivo: C:\Users\servi\AppData\Local\Temp\conduce_editado_r_jmd3a7.jpeg
2025-11-17 03:17:15,954 INFO Alquiler: {'fecha': '2025-11-17', 'conduce': 'p021', 'id': '7546e1f7-b19c-4a82-8adb-2b9417a1d28f'}
2025-11-17 03:17:15,954 INFO Procesar imagen: True
2025-11-17 03:17:15,954 INFO Tamaño del archivo: 160802 bytes (0.15 MB)
2025-11-17 03:17:15,983 INFO Redimensionando imagen de (1067, 800) a (1067, 800)
2025-11-17 03:17:16,000 INFO Imagen procesada y guardada: C:\Users\servi\AppData\Local\Temp\tmpp6fxpmlw.jpeg (0.15 MB, calidad=85)
2025-11-17 03:17:16,001 INFO Ruta de storage construida: conduces/2025/11/p021.jpeg
2025-11-17 03:17:16,001 INFO Subiendo archivo a Storage: C:\Users\servi\AppData\Local\Temp\tmpp6fxpmlw.jpeg -> conduces/2025/11/p021.jpeg
2025-11-17 03:17:16,080 DEBUG Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
2025-11-17 03:17:16,095 DEBUG Starting new HTTPS connection (1): storage.googleapis.com:443
2025-11-17 03:17:16,532 DEBUG https://storage.googleapis.com:443 "POST /upload/storage/v1/b/equipos-zoec.firebasestorage.app/o?uploadType=multipart HTTP/1.1" 200 936
2025-11-17 03:17:16,534 INFO Archivo subido exitosamente a Storage
2025-11-17 03:17:16,641 DEBUG https://storage.googleapis.com:443 "GET /storage/v1/b/equipos-zoec.firebasestorage.app/o/conduces%2F2025%2F11%2Fp021.jpeg/acl?prettyPrint=false HTTP/1.1" 400 416
2025-11-17 03:17:16,646 WARNING No se pudo hacer público el archivo: 400 GET https://storage.googleapis.com/storage/v1/b/equipos-zoec.firebasestorage.app/o/conduces%2F2025%2F11%2Fp021.jpeg/acl?prettyPrint=false: Cannot get legacy ACL for an object when uniform bucket-level access is enabled. Read more at https://cloud.google.com/storage/docs/uniform-bucket-level-access
2025-11-17 03:17:16,646 INFO Generando URL firmada temporal...
2025-11-17 03:17:16,649 INFO URL firmada generada (válida 7 días)
2025-11-17 03:17:16,650 INFO Conduce subido: conduces/2025/11/p021.jpeg -> https://storage.googleapis.com/equipos-zoec.firebasestorage.app/conduces/2025/11/p021.jpeg?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-fbsvc%40equipos-zoec.iam.gserviceaccount.com%2F20251117%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20251117T071716Z&X-Goog-Expires=604800&X-Goog-SignedHeaders=host&X-Goog-Signature=0040f7b30a743737ae0703a85c6599a1e3d3bc8e53e9779a1c6ffae5793c5ad7191236d4310d8558f93c3321d59543d5f80d26d61593b49391deb5c6450ef96f039eddcc4924930fb6ee1ab0079e3748048568e4ae07c7ac8364fcd3c16cd6ffe3ef2f9176b0deccf3b00d48eac1bc9971e2b58fac6271b30790d1081b7b2c8ce594f9b22d6381c23c1adb8c4deaffb23bfe1988445d1ef756c2e9c7c8a4d017d4e1c54d57af739a61a121457a808453ce0ada1287ee02dad0e88e5f63b6c8e3030ad0f515b0b3c5273c3f83f3b999a6e5f6a82f0b5f964dc568ed240c0b46cca360c04cb86d5b91fd078d48d8a507329c3987734c2d6cdb243a06bb9fd500de
2025-11-17 03:17:16,650 INFO Conduce subido exitosamente: conduces/2025/11/p021.jpeg -> https://storage.googleapis.com/equipos-zoec.firebasestorage.app/conduces/2025/11/p021.jpeg?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-fbsvc%40equipos-zoec.iam.gserviceaccount.com%2F20251117%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20251117T071716Z&X-Goog-Expires=604800&X-Goog-SignedHeaders=host&X-Goog-Signature=0040f7b30a743737ae0703a85c6599a1e3d3bc8e53e9779a1c6ffae5793c5ad7191236d4310d8558f93c3321d59543d5f80d26d61593b49391deb5c6450ef96f039eddcc4924930fb6ee1ab0079e3748048568e4ae07c7ac8364fcd3c16cd6ffe3ef2f9176b0deccf3b00d48eac1bc9971e2b58fac6271b30790d1081b7b2c8ce594f9b22d6381c23c1adb8c4deaffb23bfe1988445d1ef756c2e9c7c8a4d017d4e1c54d57af739a61a121457a808453ce0ada1287ee02dad0e88e5f63b6c8e3030ad0f515b0b3c5273c3f83f3b999a6e5f6a82f0b5f964dc568ed240c0b46cca360c04cb86d5b91fd078d48d8a507329c3987734c2d6cdb243a06bb9fd500de
2025-11-17 03:17:16,774 INFO Alquiler 7546e1f7-b19c-4a82-8adb-2b9417a1d28f actualizado
2025-11-17 03:17:19,499 INFO Alquiler 7546e1f7-b19c-4a82-8adb-2b9417a1d28f actualizado
2025-11-17 03:17:19,509 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 03:17:19,759 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 03:17:59,644 INFO Abriendo conduce: https://storage.googleapis.com/equipos-zoec.firebasestorage.app/conduces/2025/11/p021.jpeg?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=firebase-adminsdk-fbsvc%40equipos-zoec.iam.gserviceaccount.com%2F20251117%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20251117T071716Z&X-Goog-Expires=604800&X-Goog-SignedHeaders=host&X-Goog-Signature=0040f7b30a743737ae0703a85c6599a1e3d3bc8e53e9779a1c6ffae5793c5ad7191236d4310d8558f93c3321d59543d5f80d26d61593b49391deb5c6450ef96f039eddcc4924930fb6ee1ab0079e3748048568e4ae07c7ac8364fcd3c16cd6ffe3ef2f9176b0deccf3b00d48eac1bc9971e2b58fac6271b30790d1081b7b2c8ce594f9b22d6381c23c1adb8c4deaffb23bfe1988445d1ef756c2e9c7c8a4d017d4e1c54d57af739a61a121457a808453ce0ada1287ee02dad0e88e5f63b6c8e3030ad0f515b0b3c5273c3f83f3b999a6e5f6a82f0b5f964dc568ed240c0b46cca360c04cb86d5b91fd078d48d8a507329c3987734c2d6cdb243a06bb9fd500de
2025-11-17 03:18:12,085 INFO Alquiler 7546e1f7-b19c-4a82-8adb-2b9417a1d28f actualizado
2025-11-17 03:18:13,086 INFO Alquiler 7546e1f7-b19c-4a82-8adb-2b9417a1d28f actualizado
2025-11-17 03:18:13,104 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 03:18:13,368 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 03:19:04,613 INFO Primera fecha de transacción para cliente 35: 2025-11-17
2025-11-17 03:19:04,613 INFO Fecha desde actualizada por cliente 35: 2025-11-17
2025-11-17 03:19:20,641 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-11-17', 'fecha_fin': '2025-11-17', 'cliente_id': 35}
2025-11-17 03:19:36,649 INFO Obtenidos 2 alquileres con filtros: {'fecha_inicio': '2024-11-14', 'fecha_fin': '2025-11-17', 'cliente_id': 35}
2025-11-17 03:19:42,604 INFO Generando PDF en C:/Users/servi/OneDrive/Documentos/Reporte_Detallado_20251117_031936.pdf
2025-11-17 03:19:42,605 DEBUG Columnas del DataFrame: ['Fecha', 'Conduce', 'Equipo', 'Ubicación', 'Horas', 'Monto', 'CondStorage']
2025-11-17 03:19:42,616 DEBUG Primeras filas:
        Fecha Conduce          Equipo       Ubicación  Horas    Monto CondStorage
0  2025-11-07   00621  RETROPALA 416E  SABANA PERDIDA    6.0  15000.0            
1  2025-11-04   00620  RETROPALA 416E  SABANA PERDIDA    4.0  10000.0            
2025-11-17 03:19:42,621 INFO No hay conduces para agregar a los anexos
2025-11-17 03:19:42,626 INFO PDF generado exitosamente: C:/Users/servi/OneDrive/Documentos/Reporte_Detallado_20251117_031936.pdf
2025-11-17 18:42:23,282 INFO Configuración cargada desde config_equipos.json
2025-11-17 18:42:23,302 INFO Tema aplicado: Oscuro
2025-11-17 18:42:23,332 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 18:42:23,332 INFO Cliente de Firestore creado correctamente
2025-11-17 18:42:23,333 INFO Firebase Manager inicializado correctamente
2025-11-17 18:42:23,334 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 18:42:23,334 INFO Backup Manager inicializado correctamente
2025-11-17 18:42:23,334 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-17 18:42:23,334 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-17 18:42:23,725 INFO Ventana principal creada y mostrada
2025-11-17 18:42:23,727 INFO Cargando mapas de nombres...
2025-11-17 18:42:23,915 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 18:42:24,395 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 18:42:24,697 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 18:42:25,149 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 18:42:25,612 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 18:42:26,045 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 18:42:26,489 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 18:42:26,998 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 18:42:26,998 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 18:42:26,998 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 18:42:26,998 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 18:42:27,152 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 18:42:27,153 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 18:42:27,153 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 18:42:27,255 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 18:42:27,255 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 18:42:27,255 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 18:42:27,402 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 18:42:27,403 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 18:42:27,936 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 18:42:27,936 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:42:28,127 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:42:28,134 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:42:28,318 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:42:28,324 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 18:42:28,485 INFO Obtenidos 62 pagos a operadores
2025-11-17 18:46:19,418 ERROR Error al abrir gestión de abonos: 'AppGUI' object has no attribute 'mapas'
Traceback (most recent call last):
  File "E:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\app_gui_qt.py", line 795, in _gestionar_abonos
    dialogo = VentanaGestionAbonos(self.fm, self.mapas, parent=self)
                                            ^^^^^^^^^^
AttributeError: 'AppGUI' object has no attribute 'mapas'. Did you mean: 'mapTo'?
2025-11-17 18:46:37,162 INFO Aplicación finalizada con exit_code=0
2025-11-17 18:49:53,534 INFO Configuración cargada desde config_equipos.json
2025-11-17 18:49:53,554 INFO Tema aplicado: Oscuro
2025-11-17 18:49:53,584 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 18:49:53,584 INFO Cliente de Firestore creado correctamente
2025-11-17 18:49:53,584 INFO Firebase Manager inicializado correctamente
2025-11-17 18:49:53,586 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 18:49:53,586 INFO Backup Manager inicializado correctamente
2025-11-17 18:49:53,586 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-17 18:49:53,586 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-17 18:49:54,070 INFO Ventana principal creada y mostrada
2025-11-17 18:49:54,071 INFO Cargando mapas de nombres...
2025-11-17 18:49:54,244 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 18:49:54,703 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 18:49:54,836 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 18:49:55,250 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 18:49:55,651 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 18:49:56,085 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 18:49:56,506 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 18:49:56,984 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 18:49:56,984 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 18:49:56,985 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 18:49:56,985 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 18:49:57,105 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 18:49:57,107 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 18:49:57,107 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 18:49:57,211 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 18:49:57,211 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 18:49:57,211 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 18:49:57,325 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 18:49:57,325 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 18:49:57,791 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 18:49:57,791 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:49:57,941 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:49:57,948 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:49:58,146 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:49:58,153 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 18:49:58,324 INFO Obtenidos 62 pagos a operadores
2025-11-17 18:50:01,344 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 18:50:03,240 INFO Cargando mapas de nombres...
2025-11-17 18:50:03,345 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 18:50:03,756 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 18:50:04,163 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 18:50:04,565 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 18:50:04,985 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 18:50:05,437 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 18:50:05,437 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 18:50:05,437 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 18:50:05,437 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 18:50:05,558 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 18:50:05,558 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 18:50:05,558 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 18:50:05,693 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 18:50:05,693 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 18:50:05,693 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 18:50:05,785 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 18:50:05,785 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 18:50:06,255 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 18:50:06,255 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:50:06,456 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:50:06,464 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:50:06,643 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:50:06,649 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 18:50:06,767 INFO Obtenidos 62 pagos a operadores
2025-11-17 18:50:08,297 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 18:50:10,853 INFO Cargando mapas de nombres...
2025-11-17 18:50:10,970 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 18:50:11,375 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 18:50:11,778 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 18:50:12,187 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 18:50:12,598 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 18:50:13,049 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 18:50:13,049 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 18:50:13,049 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 18:50:13,049 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 18:50:13,147 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 18:50:13,147 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 18:50:13,147 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 18:50:13,265 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 18:50:13,266 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 18:50:13,266 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 18:50:13,376 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 18:50:13,377 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 18:50:13,835 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 18:50:13,836 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:50:14,016 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:50:14,024 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:50:14,193 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:50:14,200 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 18:50:14,336 INFO Obtenidos 62 pagos a operadores
2025-11-17 18:50:15,861 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 18:50:17,450 INFO Cargando mapas de nombres...
2025-11-17 18:50:17,543 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 18:50:17,944 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 18:50:18,349 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 18:50:18,761 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 18:50:19,181 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 18:50:19,650 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 18:50:19,650 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 18:50:19,651 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 18:50:19,651 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 18:50:19,749 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 18:50:19,749 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 18:50:19,749 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 18:50:19,900 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 18:50:19,900 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 18:50:19,900 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 18:50:19,997 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 18:50:19,997 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 18:50:20,438 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 18:50:20,438 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:50:20,608 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:50:20,615 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:50:20,777 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 18:50:20,783 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 18:50:20,899 INFO Obtenidos 62 pagos a operadores
2025-11-17 18:53:56,970 INFO Aplicación finalizada con exit_code=0
2025-11-17 21:11:04,102 INFO Configuración cargada desde config_equipos.json
2025-11-17 21:11:04,123 INFO Tema aplicado: Oscuro
2025-11-17 21:11:04,161 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 21:11:04,161 INFO Cliente de Firestore creado correctamente
2025-11-17 21:11:04,161 INFO Firebase Manager inicializado correctamente
2025-11-17 21:11:04,169 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 21:11:04,170 INFO Backup Manager inicializado correctamente
2025-11-17 21:11:04,170 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-17 21:11:04,170 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-17 21:11:07,807 INFO Ventana principal creada y mostrada
2025-11-17 21:11:07,809 INFO Cargando mapas de nombres...
2025-11-17 21:11:08,012 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 21:11:08,171 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 21:11:08,369 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 21:11:08,826 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 21:11:09,282 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 21:11:09,729 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 21:11:10,185 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 21:11:10,724 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 21:11:10,724 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 21:11:10,724 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 21:11:10,738 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 21:11:10,917 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 21:11:10,922 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 21:11:10,922 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 21:11:11,068 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 21:11:11,068 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 21:11:11,068 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 21:11:11,239 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 21:11:11,239 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 21:11:12,174 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 21:11:12,189 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 21:11:12,649 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 21:11:12,659 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 21:11:13,153 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 21:11:13,157 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 21:11:13,409 INFO Obtenidos 62 pagos a operadores
2025-11-17 21:11:26,772 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 21:11:57,056 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 21:12:05,508 ERROR Error al abrir gestión de abonos: 'AppGUI' object has no attribute 'mapa_nombres'
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\app_gui_qt.py", line 795, in _gestionar_abonos
    dialogo = VentanaGestionAbonos(self.fm, self.mapa_nombres, parent=self)
                                            ^^^^^^^^^^^^^^^^^
AttributeError: 'AppGUI' object has no attribute 'mapa_nombres'
2025-11-17 21:12:12,465 INFO Aplicación finalizada con exit_code=0
2025-11-17 21:20:05,860 INFO Configuración cargada desde config_equipos.json
2025-11-17 21:20:05,878 INFO Tema aplicado: Oscuro
2025-11-17 21:20:05,911 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 21:20:05,911 INFO Cliente de Firestore creado correctamente
2025-11-17 21:20:05,912 INFO Firebase Manager inicializado correctamente
2025-11-17 21:20:05,912 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 21:20:05,912 INFO Backup Manager inicializado correctamente
2025-11-17 21:20:05,913 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-17 21:20:05,913 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-17 21:20:07,125 INFO Ventana principal creada y mostrada
2025-11-17 21:20:07,127 INFO Cargando mapas de nombres...
2025-11-17 21:20:07,287 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 21:20:07,430 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 21:20:07,574 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 21:20:08,010 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 21:20:08,439 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 21:20:08,887 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 21:20:09,330 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 21:20:09,870 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 21:20:09,870 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 21:20:09,870 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 21:20:09,871 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 21:20:09,985 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 21:20:09,986 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 21:20:09,986 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 21:20:10,120 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 21:20:10,120 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 21:20:10,120 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 21:20:10,253 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 21:20:10,253 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 21:20:10,786 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 21:20:10,786 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 21:20:10,981 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 21:20:10,987 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 21:20:11,205 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 21:20:11,210 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 21:20:11,356 INFO Obtenidos 62 pagos a operadores
2025-11-17 21:20:14,849 ERROR Error al abrir gestión de abonos: 'AppGUI' object has no attribute 'mapa_nombres'
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\app_gui_qt.py", line 795, in _gestionar_abonos
    dialogo = VentanaGestionAbonos(self.fm, self.mapa_nombres, parent=self)
                                            ^^^^^^^^^^^^^^^^^
AttributeError: 'AppGUI' object has no attribute 'mapa_nombres'
2025-11-17 21:20:18,534 INFO Aplicación finalizada con exit_code=0
2025-11-17 21:31:01,819 INFO Configuración cargada desde config_equipos.json
2025-11-17 21:31:01,837 INFO Tema aplicado: Oscuro
2025-11-17 21:31:01,870 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 21:31:01,870 INFO Cliente de Firestore creado correctamente
2025-11-17 21:31:01,870 INFO Firebase Manager inicializado correctamente
2025-11-17 21:31:01,871 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 21:31:01,871 INFO Backup Manager inicializado correctamente
2025-11-17 21:31:01,872 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-17 21:31:01,872 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-17 21:31:02,420 INFO Ventana principal creada y mostrada
2025-11-17 21:31:02,421 INFO Cargando mapas de nombres...
2025-11-17 21:31:02,588 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 21:31:02,741 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 21:31:02,881 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 21:31:03,465 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 21:31:03,875 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 21:31:04,326 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 21:31:04,764 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 21:31:05,370 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 21:31:05,370 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 21:31:05,370 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 21:31:05,371 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 21:31:05,592 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 21:31:05,593 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 21:31:05,593 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 21:31:05,697 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 21:31:05,697 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 21:31:05,697 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 21:31:05,928 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 21:31:05,929 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 21:31:06,753 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 21:31:06,753 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 21:31:07,244 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 21:31:07,250 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 21:31:07,691 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 21:31:07,696 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 21:31:08,015 INFO Obtenidos 62 pagos a operadores
2025-11-17 21:31:20,681 ERROR Error al abrir gestión de abonos: 'AppGUI' object has no attribute 'mapa_nombres'
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\app_gui_qt.py", line 795, in _gestionar_abonos
    dialogo = VentanaGestionAbonos(self.fm, self.mapa_nombres, parent=self)
                                            ^^^^^^^^^^^^^^^^^
AttributeError: 'AppGUI' object has no attribute 'mapa_nombres'
2025-11-17 22:28:16,650 INFO Aplicación finalizada con exit_code=0
2025-11-17 22:30:27,535 INFO Configuración cargada desde config_equipos.json
2025-11-17 22:30:27,554 INFO Tema aplicado: Oscuro
2025-11-17 22:30:27,591 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 22:30:27,591 INFO Cliente de Firestore creado correctamente
2025-11-17 22:30:27,591 INFO Firebase Manager inicializado correctamente
2025-11-17 22:30:27,592 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 22:30:27,592 INFO Backup Manager inicializado correctamente
2025-11-17 22:30:27,592 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-17 22:30:27,592 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-17 22:30:27,966 INFO Ventana principal creada y mostrada
2025-11-17 22:30:27,999 INFO Cargando mapas de nombres...
2025-11-17 22:30:28,169 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 22:30:28,331 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 22:30:28,575 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 22:30:29,030 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 22:30:29,490 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 22:30:29,935 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 22:30:30,487 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 22:30:31,012 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 22:30:31,013 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 22:30:31,013 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 22:30:31,013 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 22:30:31,160 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 22:30:31,161 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 22:30:31,162 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 22:30:31,320 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 22:30:31,321 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 22:30:31,321 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 22:30:31,438 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 22:30:31,439 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 22:30:31,976 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 22:30:31,977 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 22:30:32,180 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 22:30:32,187 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 22:30:32,483 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 22:30:32,487 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 22:30:32,650 INFO Obtenidos 62 pagos a operadores
2025-11-17 22:33:18,698 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 22:33:21,753 INFO Cargando mapas de nombres...
2025-11-17 22:33:21,897 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 22:33:22,347 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 22:33:22,799 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 22:33:23,234 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 22:33:23,716 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 22:33:24,359 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 22:33:24,360 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 22:33:24,360 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 22:33:24,360 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 22:33:24,478 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 22:33:24,478 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 22:33:24,478 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 22:33:24,599 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 22:33:24,599 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 22:33:24,599 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 22:33:24,739 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 22:33:24,740 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 22:33:25,366 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 22:33:25,366 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 22:33:25,574 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 22:33:25,580 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 22:33:25,815 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 22:33:25,820 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 22:33:25,951 INFO Obtenidos 62 pagos a operadores
2025-11-17 22:33:31,149 ERROR Error al abrir gestión de abonos: 'AppGUI' object has no attribute 'mapa_nombres'
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\app_gui_qt.py", line 795, in _gestionar_abonos
    dialogo = VentanaGestionAbonos(self.fm, self.mapa_nombres, parent=self)
                                            ^^^^^^^^^^^^^^^^^
AttributeError: 'AppGUI' object has no attribute 'mapa_nombres'
2025-11-17 22:33:38,877 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 22:40:14,844 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17', 'equipo_id': 11}
2025-11-17 22:40:15,159 ERROR Error al obtener gastos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2dhc3Rvcy9pbmRleGVzL18QARoNCgllcXVpcG9faWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 313, in obtener_gastos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2dhc3Rvcy9pbmRleGVzL18QARoNCgllcXVpcG9faWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
2025-11-17 22:40:15,277 ERROR Error al cargar gastos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2dhc3Rvcy9pbmRleGVzL18QARoNCgllcXVpcG9faWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\gastos_equipos_tab.py", line 261, in _cargar_gastos
    self.gastos_cargados = self.fm.obtener_gastos(filtros)
                           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 323, in obtener_gastos
    raise e # Propagar el error
    ^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 313, in obtener_gastos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2dhc3Rvcy9pbmRleGVzL18QARoNCgllcXVpcG9faWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
2025-11-17 22:43:06,542 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17', 'equipo_id': 12}
2025-11-17 22:43:06,655 INFO Obtenidos 0 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17', 'equipo_id': 12}
2025-11-17 22:43:06,657 WARNING No se encontraron gastos con esos filtros.
2025-11-17 22:43:09,725 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17', 'equipo_id': 5}
2025-11-17 22:43:09,846 INFO Obtenidos 18 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17', 'equipo_id': 5}
2025-11-17 22:43:23,381 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17', 'equipo_id': 5, 'categoria_id': 31}
2025-11-17 22:43:23,489 ERROR Error al obtener gastos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2dhc3Rvcy9pbmRleGVzL18QARoQCgxjYXRlZ29yaWFfaWQQARoNCgllcXVpcG9faWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 313, in obtener_gastos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2dhc3Rvcy9pbmRleGVzL18QARoQCgxjYXRlZ29yaWFfaWQQARoNCgllcXVpcG9faWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
2025-11-17 22:43:23,508 ERROR Error al cargar gastos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2dhc3Rvcy9pbmRleGVzL18QARoQCgxjYXRlZ29yaWFfaWQQARoNCgllcXVpcG9faWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\gastos_equipos_tab.py", line 261, in _cargar_gastos
    self.gastos_cargados = self.fm.obtener_gastos(filtros)
                           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 323, in obtener_gastos
    raise e # Propagar el error
    ^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 313, in obtener_gastos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2dhc3Rvcy9pbmRleGVzL18QARoQCgxjYXRlZ29yaWFfaWQQARoNCgllcXVpcG9faWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
2025-11-17 22:46:34,403 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17', 'equipo_id': 5, 'cuenta_id': 35, 'categoria_id': 31}
2025-11-17 22:46:34,519 ERROR Error al obtener gastos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2dhc3Rvcy9pbmRleGVzL18QARoQCgxjYXRlZ29yaWFfaWQQARoNCgljdWVudGFfaWQQARoNCgllcXVpcG9faWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 313, in obtener_gastos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2dhc3Rvcy9pbmRleGVzL18QARoQCgxjYXRlZ29yaWFfaWQQARoNCgljdWVudGFfaWQQARoNCgllcXVpcG9faWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
2025-11-17 22:46:34,523 ERROR Error al cargar gastos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2dhc3Rvcy9pbmRleGVzL18QARoQCgxjYXRlZ29yaWFfaWQQARoNCgljdWVudGFfaWQQARoNCgllcXVpcG9faWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\gastos_equipos_tab.py", line 261, in _cargar_gastos
    self.gastos_cargados = self.fm.obtener_gastos(filtros)
                           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 323, in obtener_gastos
    raise e # Propagar el error
    ^^^^^^^
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 313, in obtener_gastos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2dhc3Rvcy9pbmRleGVzL18QARoQCgxjYXRlZ29yaWFfaWQQARoNCgljdWVudGFfaWQQARoNCgllcXVpcG9faWQQARoJCgVmZWNoYRACGgwKCF9fbmFtZV9fEAI
2025-11-17 22:48:21,769 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17', 'operador_id': 2}
2025-11-17 22:48:21,891 INFO Obtenidos 1 pagos a operadores
2025-11-17 22:48:25,646 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17', 'equipo_id': 12, 'operador_id': 2}
2025-11-17 22:48:25,747 INFO Obtenidos 0 pagos a operadores
2025-11-17 22:48:25,747 WARNING No se encontraron pagos con esos filtros.
2025-11-17 23:33:32,210 INFO Configuración cargada desde config_equipos.json
2025-11-17 23:33:32,229 INFO Tema aplicado: Oscuro
2025-11-17 23:33:32,263 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-17 23:33:32,263 INFO Cliente de Firestore creado correctamente
2025-11-17 23:33:32,263 INFO Firebase Manager inicializado correctamente
2025-11-17 23:33:32,264 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-17 23:33:32,264 INFO Backup Manager inicializado correctamente
2025-11-17 23:33:32,264 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-17 23:33:32,264 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-17 23:33:32,962 INFO Ventana principal creada y mostrada
2025-11-17 23:33:33,010 INFO Cargando mapas de nombres...
2025-11-17 23:33:33,208 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-17 23:33:33,346 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-17 23:33:33,496 INFO Obtenidos 12 equipos (activo=None)
2025-11-17 23:33:33,925 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-17 23:33:34,349 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-17 23:33:34,774 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-17 23:33:35,231 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-17 23:33:35,756 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-17 23:33:35,756 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-17 23:33:35,756 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-17 23:33:35,756 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-17 23:33:35,866 INFO Primera fecha de alquileres: 2025-01-06
2025-11-17 23:33:35,867 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-17 23:33:35,867 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-17 23:33:35,976 INFO Primera fecha de gastos: 2025-01-06
2025-11-17 23:33:35,976 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-17 23:33:35,976 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-17 23:33:36,075 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-17 23:33:36,076 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-17 23:33:36,598 INFO Obtenidos 0 equipos (activo=True)
2025-11-17 23:33:36,598 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 23:33:36,781 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 23:33:36,787 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 23:33:37,012 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-17'}
2025-11-17 23:33:37,018 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-17'}
2025-11-17 23:33:37,161 INFO Obtenidos 62 pagos a operadores
2025-11-17 23:33:46,822 ERROR Error al obtener entidades (tipo=Cliente, activo=True): 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 382, in obtener_entidades
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-17 23:33:46,943 INFO Obtenidos 0 abonos
2025-11-17 23:35:24,441 ERROR Error al obtener entidades (tipo=Cliente, activo=True): 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 382, in obtener_entidades
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-17 23:35:45,789 ERROR Error al obtener entidades (tipo=Cliente, activo=True): 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 382, in obtener_entidades
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-17 23:35:55,984 ERROR Error al obtener entidades (tipo=Cliente, activo=True): 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 382, in obtener_entidades
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-17 23:35:56,114 INFO Obtenidos 0 abonos
2025-11-18 00:06:26,845 INFO Configuración cargada desde config_equipos.json
2025-11-18 00:06:26,864 INFO Tema aplicado: Oscuro
2025-11-18 00:06:26,894 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-18 00:06:26,895 INFO Cliente de Firestore creado correctamente
2025-11-18 00:06:26,895 INFO Firebase Manager inicializado correctamente
2025-11-18 00:06:26,896 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-18 00:06:26,896 INFO Backup Manager inicializado correctamente
2025-11-18 00:06:26,896 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-18 00:06:26,896 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-18 00:06:27,280 INFO Ventana principal creada y mostrada
2025-11-18 00:06:27,309 INFO Cargando mapas de nombres...
2025-11-18 00:06:27,452 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-18 00:06:27,601 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-18 00:06:27,755 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 00:06:28,181 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-18 00:06:28,601 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-18 00:06:29,030 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-18 00:06:29,478 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-18 00:06:29,935 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-18 00:06:29,935 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-18 00:06:29,935 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-18 00:06:29,935 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-18 00:06:30,033 INFO Primera fecha de alquileres: 2025-01-06
2025-11-18 00:06:30,034 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-18 00:06:30,035 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-18 00:06:30,153 INFO Primera fecha de gastos: 2025-01-06
2025-11-18 00:06:30,153 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-18 00:06:30,153 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-18 00:06:30,269 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-18 00:06:30,269 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-18 00:06:30,784 INFO Obtenidos 0 equipos (activo=True)
2025-11-18 00:06:30,784 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 00:06:30,969 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 00:06:30,974 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 00:06:31,152 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 00:06:31,156 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-18'}
2025-11-18 00:06:31,283 INFO Obtenidos 62 pagos a operadores
2025-11-18 00:06:35,077 ERROR Error al obtener entidades (tipo=Cliente, activo=True): 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 382, in obtener_entidades
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-18 00:06:35,188 INFO Obtenidos 12 abonos
2025-11-18 01:06:27,298 INFO Iniciando backup automático...
2025-11-18 01:06:27,299 INFO Iniciando proceso de backup...
2025-11-18 01:06:27,437 DEBUG Resetting dropped connection: oauth2.googleapis.com
2025-11-18 01:06:27,592 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-18 01:06:27,725 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 01:06:27,725 INFO Backup de 12 equipos completado
2025-11-18 01:06:27,725 ERROR Error al crear backup: 'FirebaseManager' object has no attribute 'obtener_transacciones'
2025-11-18 01:06:27,725 ERROR Error al crear backup automático
2025-11-18 01:45:35,123 INFO Aplicación finalizada con exit_code=0
2025-11-18 01:46:02,976 INFO Configuración cargada desde config_equipos.json
2025-11-18 01:46:02,994 INFO Tema aplicado: Oscuro
2025-11-18 01:46:03,029 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-18 01:46:03,029 INFO Cliente de Firestore creado correctamente
2025-11-18 01:46:03,029 INFO Firebase Manager inicializado correctamente
2025-11-18 01:46:03,030 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-18 01:46:03,030 INFO Backup Manager inicializado correctamente
2025-11-18 01:46:03,030 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-18 01:46:03,030 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-18 01:46:03,871 INFO Ventana principal creada y mostrada
2025-11-18 01:46:03,874 INFO Cargando mapas de nombres...
2025-11-18 01:46:04,057 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-18 01:46:04,195 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-18 01:46:04,337 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 01:46:04,764 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-18 01:46:05,198 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-18 01:46:05,649 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-18 01:46:06,075 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-18 01:46:06,651 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-18 01:46:06,651 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-18 01:46:06,651 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-18 01:46:06,652 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-18 01:46:06,771 INFO Primera fecha de alquileres: 2025-01-06
2025-11-18 01:46:06,772 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-18 01:46:06,772 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-18 01:46:06,892 INFO Primera fecha de gastos: 2025-01-06
2025-11-18 01:46:06,892 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-18 01:46:06,892 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-18 01:46:07,001 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-18 01:46:07,002 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-18 01:46:07,513 INFO Obtenidos 0 equipos (activo=True)
2025-11-18 01:46:07,514 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 01:46:07,723 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 01:46:07,729 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 01:46:07,945 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 01:46:07,950 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-18'}
2025-11-18 01:46:08,092 INFO Obtenidos 62 pagos a operadores
2025-11-18 01:46:08,870 INFO Iniciando backup automático...
2025-11-18 01:46:08,870 INFO Iniciando proceso de backup...
2025-11-18 01:46:08,979 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 01:46:08,979 INFO Backup de 12 equipos completado
2025-11-18 01:46:08,979 ERROR Error al crear backup: 'FirebaseManager' object has no attribute 'obtener_transacciones'
2025-11-18 01:46:08,979 ERROR Error al crear backup automático
2025-11-18 01:46:23,438 ERROR Error al obtener entidades (tipo=Cliente, activo=True): 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 382, in obtener_entidades
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck5wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2VudGlkYWRlcy9pbmRleGVzL18QARoKCgZhY3Rpdm8QARoICgR0aXBvEAEaCgoGbm9tYnJlEAEaDAoIX19uYW1lX18QAQ
2025-11-18 01:46:28,594 INFO Obtenidos 74 abonos
2025-11-18 01:46:35,148 INFO Aplicación finalizada con exit_code=0
2025-11-18 01:49:29,990 INFO Configuración cargada desde config_equipos.json
2025-11-18 01:49:30,008 INFO Tema aplicado: Oscuro
2025-11-18 01:49:30,042 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-18 01:49:30,042 INFO Cliente de Firestore creado correctamente
2025-11-18 01:49:30,042 INFO Firebase Manager inicializado correctamente
2025-11-18 01:49:30,043 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-18 01:49:30,044 INFO Backup Manager inicializado correctamente
2025-11-18 01:49:30,044 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-18 01:49:30,044 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-18 01:49:30,683 INFO Ventana principal creada y mostrada
2025-11-18 01:49:30,718 INFO Cargando mapas de nombres...
2025-11-18 01:49:30,864 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-18 01:49:31,019 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-18 01:49:31,149 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 01:49:31,573 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-18 01:49:31,993 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-18 01:49:32,421 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-18 01:49:32,851 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-18 01:49:33,320 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-18 01:49:33,320 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-18 01:49:33,320 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-18 01:49:33,320 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-18 01:49:33,424 INFO Primera fecha de alquileres: 2025-01-06
2025-11-18 01:49:33,426 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-18 01:49:33,426 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-18 01:49:33,526 INFO Primera fecha de gastos: 2025-01-06
2025-11-18 01:49:33,526 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-18 01:49:33,526 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-18 01:49:33,625 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-18 01:49:33,625 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-18 01:49:34,120 INFO Obtenidos 0 equipos (activo=True)
2025-11-18 01:49:34,120 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 01:49:34,303 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 01:49:34,309 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 01:49:34,534 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 01:49:34,540 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-18'}
2025-11-18 01:49:34,664 INFO Obtenidos 62 pagos a operadores
2025-11-18 01:49:35,688 INFO Iniciando backup automático...
2025-11-18 01:49:35,688 INFO Iniciando proceso de backup...
2025-11-18 01:49:35,791 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 01:49:35,792 INFO Backup de 12 equipos completado
2025-11-18 01:49:35,792 ERROR Error al crear backup: 'FirebaseManager' object has no attribute 'obtener_transacciones'
2025-11-18 01:49:35,792 ERROR Error al crear backup automático
2025-11-18 01:49:41,576 INFO Obtenidas 0 entidades (tipo=Cliente, activo=True)
2025-11-18 01:49:41,838 INFO Obtenidos 74 abonos
2025-11-18 01:57:12,882 INFO Aplicación finalizada con exit_code=0
2025-11-18 01:58:19,875 INFO Configuración cargada desde config_equipos.json
2025-11-18 01:58:19,895 INFO Tema aplicado: Oscuro
2025-11-18 01:58:19,930 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-18 01:58:19,931 INFO Cliente de Firestore creado correctamente
2025-11-18 01:58:19,931 INFO Firebase Manager inicializado correctamente
2025-11-18 01:58:19,932 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-18 01:58:19,932 INFO Backup Manager inicializado correctamente
2025-11-18 01:58:19,932 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-18 01:58:19,932 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-18 01:58:20,511 INFO Ventana principal creada y mostrada
2025-11-18 01:58:20,546 INFO Cargando mapas de nombres...
2025-11-18 01:58:20,689 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-18 01:58:20,842 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-18 01:58:20,977 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 01:58:21,403 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-18 01:58:21,812 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-18 01:58:22,237 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-18 01:58:22,655 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-18 01:58:23,142 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-18 01:58:23,142 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-18 01:58:23,142 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-18 01:58:23,143 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-18 01:58:23,242 INFO Primera fecha de alquileres: 2025-01-06
2025-11-18 01:58:23,245 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-18 01:58:23,245 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-18 01:58:23,380 INFO Primera fecha de gastos: 2025-01-06
2025-11-18 01:58:23,380 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-18 01:58:23,380 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-18 01:58:23,493 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-18 01:58:23,493 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-18 01:58:23,967 INFO Obtenidos 0 equipos (activo=True)
2025-11-18 01:58:23,968 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 01:58:24,158 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 01:58:24,163 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 01:58:24,387 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 01:58:24,392 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-18'}
2025-11-18 01:58:24,543 INFO Obtenidos 62 pagos a operadores
2025-11-18 01:58:25,518 INFO Iniciando backup automático...
2025-11-18 01:58:25,518 INFO Iniciando proceso de backup...
2025-11-18 01:58:25,625 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 01:58:25,626 INFO Backup de 12 equipos completado
2025-11-18 01:58:25,626 ERROR Error al crear backup: 'FirebaseManager' object has no attribute 'obtener_transacciones'
2025-11-18 01:58:25,626 ERROR Error al crear backup automático
2025-11-18 01:58:27,480 INFO Obtenidas 0 entidades (tipo=Cliente, activo=True)
2025-11-18 01:58:27,739 INFO Obtenidos 74 abonos
2025-11-18 02:04:44,159 INFO Configuración cargada desde config_equipos.json
2025-11-18 02:04:44,178 INFO Tema aplicado: Oscuro
2025-11-18 02:04:44,213 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-18 02:04:44,213 INFO Cliente de Firestore creado correctamente
2025-11-18 02:04:44,213 INFO Firebase Manager inicializado correctamente
2025-11-18 02:04:44,214 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-18 02:04:44,214 INFO Backup Manager inicializado correctamente
2025-11-18 02:04:44,214 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-18 02:04:44,214 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-18 02:04:44,879 INFO Ventana principal creada y mostrada
2025-11-18 02:04:44,906 INFO Cargando mapas de nombres...
2025-11-18 02:04:45,058 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-18 02:04:45,194 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-18 02:04:45,330 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 02:04:45,750 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-18 02:04:46,166 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-18 02:04:46,577 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-18 02:04:46,995 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-18 02:04:47,470 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-18 02:04:47,470 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-18 02:04:47,471 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-18 02:04:47,471 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-18 02:04:47,571 INFO Primera fecha de alquileres: 2025-01-06
2025-11-18 02:04:47,572 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-18 02:04:47,572 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-18 02:04:47,675 INFO Primera fecha de gastos: 2025-01-06
2025-11-18 02:04:47,675 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-18 02:04:47,675 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-18 02:04:47,810 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-18 02:04:47,810 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-18 02:04:48,282 INFO Obtenidos 0 equipos (activo=True)
2025-11-18 02:04:48,283 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:04:48,488 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:04:48,493 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:04:48,684 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:04:48,689 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-18'}
2025-11-18 02:04:48,810 INFO Obtenidos 62 pagos a operadores
2025-11-18 02:04:49,871 INFO Iniciando backup automático...
2025-11-18 02:04:49,871 INFO Iniciando proceso de backup...
2025-11-18 02:04:49,984 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 02:04:49,984 INFO Backup de 12 equipos completado
2025-11-18 02:04:49,984 ERROR Error al crear backup: 'FirebaseManager' object has no attribute 'obtener_transacciones'
2025-11-18 02:04:49,984 ERROR Error al crear backup automático
2025-11-18 02:05:18,697 INFO Aplicación finalizada con exit_code=0
2025-11-18 02:09:03,636 INFO Configuración cargada desde config_equipos.json
2025-11-18 02:09:03,655 INFO Tema aplicado: Oscuro
2025-11-18 02:09:03,688 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-18 02:09:03,688 INFO Cliente de Firestore creado correctamente
2025-11-18 02:09:03,689 INFO Firebase Manager inicializado correctamente
2025-11-18 02:09:03,689 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-18 02:09:03,689 INFO Backup Manager inicializado correctamente
2025-11-18 02:09:03,690 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-18 02:09:03,690 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-18 02:09:04,148 INFO Ventana principal creada y mostrada
2025-11-18 02:09:04,184 INFO Cargando mapas de nombres...
2025-11-18 02:09:04,335 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-18 02:09:04,501 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-18 02:09:04,636 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 02:09:05,080 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-18 02:09:05,497 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-18 02:09:05,927 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-18 02:09:06,351 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-18 02:09:06,825 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-18 02:09:06,825 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-18 02:09:06,826 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-18 02:09:06,826 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-18 02:09:06,939 INFO Primera fecha de alquileres: 2025-01-06
2025-11-18 02:09:06,940 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-18 02:09:06,941 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-18 02:09:07,061 INFO Primera fecha de gastos: 2025-01-06
2025-11-18 02:09:07,061 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-18 02:09:07,061 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-18 02:09:07,159 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-18 02:09:07,159 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-18 02:09:07,690 INFO Obtenidos 0 equipos (activo=True)
2025-11-18 02:09:07,690 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:09:07,892 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:09:07,899 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:09:08,125 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:09:08,130 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-18'}
2025-11-18 02:09:08,267 INFO Obtenidos 62 pagos a operadores
2025-11-18 02:09:09,153 INFO Iniciando backup automático...
2025-11-18 02:09:09,153 INFO Iniciando proceso de backup...
2025-11-18 02:09:09,282 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 02:09:09,282 INFO Backup de 12 equipos completado
2025-11-18 02:09:09,282 ERROR Error al crear backup: 'FirebaseManager' object has no attribute 'obtener_transacciones'
2025-11-18 02:09:09,282 ERROR Error al crear backup automático
2025-11-18 02:09:19,489 INFO Aplicación finalizada con exit_code=0
2025-11-18 02:18:37,694 INFO Configuración cargada desde config_equipos.json
2025-11-18 02:18:37,713 INFO Tema aplicado: Oscuro
2025-11-18 02:18:37,747 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-18 02:18:37,747 INFO Cliente de Firestore creado correctamente
2025-11-18 02:18:37,747 INFO Firebase Manager inicializado correctamente
2025-11-18 02:18:37,748 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-18 02:18:37,748 INFO Backup Manager inicializado correctamente
2025-11-18 02:18:37,748 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-18 02:18:37,748 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-18 02:18:38,154 INFO Ventana principal creada y mostrada
2025-11-18 02:18:38,193 INFO Cargando mapas de nombres...
2025-11-18 02:18:38,340 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-18 02:18:38,477 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-18 02:18:38,612 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 02:18:39,039 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-18 02:18:39,464 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-18 02:18:39,887 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-18 02:18:40,517 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-18 02:18:40,997 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-18 02:18:40,997 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-18 02:18:40,997 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-18 02:18:40,997 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-18 02:18:41,104 INFO Primera fecha de alquileres: 2025-01-06
2025-11-18 02:18:41,106 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-18 02:18:41,106 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-18 02:18:41,219 INFO Primera fecha de gastos: 2025-01-06
2025-11-18 02:18:41,220 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-18 02:18:41,220 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-18 02:18:41,313 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-18 02:18:41,313 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-18 02:18:41,832 INFO Obtenidos 0 equipos (activo=True)
2025-11-18 02:18:41,832 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:18:42,037 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:18:42,045 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:18:42,211 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:18:42,216 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-18'}
2025-11-18 02:18:42,345 INFO Obtenidos 62 pagos a operadores
2025-11-18 02:18:43,149 INFO Iniciando backup automático...
2025-11-18 02:18:43,150 INFO Iniciando proceso de backup...
2025-11-18 02:18:43,262 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 02:18:43,262 INFO Backup de 12 equipos completado
2025-11-18 02:18:43,263 ERROR Error al crear backup: 'FirebaseManager' object has no attribute 'obtener_transacciones'
2025-11-18 02:18:43,263 ERROR Error al crear backup automático
2025-11-18 02:18:44,519 INFO Obtenidos 74 abonos
2025-11-18 02:19:06,016 INFO Aplicación finalizada con exit_code=0
2025-11-18 02:19:28,023 INFO Configuración cargada desde config_equipos.json
2025-11-18 02:19:28,042 INFO Tema aplicado: Oscuro
2025-11-18 02:19:28,078 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-18 02:19:28,078 INFO Cliente de Firestore creado correctamente
2025-11-18 02:19:28,078 INFO Firebase Manager inicializado correctamente
2025-11-18 02:19:28,079 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-18 02:19:28,079 INFO Backup Manager inicializado correctamente
2025-11-18 02:19:28,079 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-18 02:19:28,079 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-18 02:19:28,491 INFO Ventana principal creada y mostrada
2025-11-18 02:19:28,529 INFO Cargando mapas de nombres...
2025-11-18 02:19:28,665 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-18 02:19:28,798 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-18 02:19:28,925 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 02:19:29,347 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-18 02:19:29,776 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-18 02:19:30,207 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-18 02:19:30,645 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-18 02:19:31,129 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-18 02:19:31,129 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-18 02:19:31,129 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-18 02:19:31,129 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-18 02:19:31,227 INFO Primera fecha de alquileres: 2025-01-06
2025-11-18 02:19:31,228 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-18 02:19:31,228 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-18 02:19:31,401 INFO Primera fecha de gastos: 2025-01-06
2025-11-18 02:19:31,401 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-18 02:19:31,401 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-18 02:19:31,502 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-18 02:19:31,503 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-18 02:19:32,006 INFO Obtenidos 0 equipos (activo=True)
2025-11-18 02:19:32,007 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:19:32,246 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:19:32,254 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:19:32,452 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:19:32,456 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-18'}
2025-11-18 02:19:32,582 INFO Obtenidos 62 pagos a operadores
2025-11-18 02:19:33,498 INFO Iniciando backup automático...
2025-11-18 02:19:33,499 INFO Iniciando proceso de backup...
2025-11-18 02:19:33,599 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 02:19:33,599 INFO Backup de 12 equipos completado
2025-11-18 02:19:33,599 ERROR Error al crear backup: 'FirebaseManager' object has no attribute 'obtener_transacciones'
2025-11-18 02:19:33,599 ERROR Error al crear backup automático
2025-11-18 02:19:34,631 INFO Obtenidos 74 abonos
2025-11-18 02:19:48,564 ERROR Error al obtener abonos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 878, in obtener_abonos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
2025-11-18 02:19:51,392 ERROR Error al obtener abonos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 878, in obtener_abonos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
2025-11-18 02:19:58,167 ERROR Error al obtener abonos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 878, in obtener_abonos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
2025-11-18 02:20:04,232 ERROR Error al obtener abonos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 878, in obtener_abonos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
2025-11-18 02:20:11,000 ERROR Error al obtener abonos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 878, in obtener_abonos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
2025-11-18 02:20:17,176 ERROR Error al obtener abonos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 878, in obtener_abonos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
2025-11-18 02:20:28,966 ERROR Error al obtener abonos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 878, in obtener_abonos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
2025-11-18 02:20:34,880 ERROR Error al obtener abonos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 878, in obtener_abonos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
2025-11-18 02:20:38,874 ERROR Error al obtener abonos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 878, in obtener_abonos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
2025-11-18 02:20:47,006 INFO Obtenidos 74 abonos
2025-11-18 02:20:51,057 ERROR Error al obtener abonos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 878, in obtener_abonos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
2025-11-18 02:20:53,161 ERROR Error al obtener abonos: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 878, in obtener_abonos
    for doc in docs:
               ^^^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Cktwcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2Fib25vcy9pbmRleGVzL18QARoOCgpjbGllbnRlX2lkEAEaCQoFZmVjaGEQAhoMCghfX25hbWVfXxAC
2025-11-18 02:23:40,570 INFO Obtenidos 74 abonos
2025-11-18 02:23:44,380 INFO Obtenidos 0 abonos
2025-11-18 02:23:47,038 INFO Obtenidos 13 abonos
2025-11-18 02:23:54,046 INFO Obtenidos 1 abonos
2025-11-18 02:33:11,115 INFO Aplicación finalizada con exit_code=0
2025-11-18 02:37:29,084 INFO Configuración cargada desde config_equipos.json
2025-11-18 02:37:29,102 INFO Tema aplicado: Oscuro
2025-11-18 02:37:29,135 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-18 02:37:29,136 INFO Cliente de Firestore creado correctamente
2025-11-18 02:37:29,136 INFO Firebase Manager inicializado correctamente
2025-11-18 02:37:29,137 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-18 02:37:29,137 INFO Backup Manager inicializado correctamente
2025-11-18 02:37:29,137 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-18 02:37:29,137 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-18 02:37:29,587 INFO Ventana principal creada y mostrada
2025-11-18 02:37:29,618 INFO Cargando mapas de nombres...
2025-11-18 02:37:29,770 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-18 02:37:29,924 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-18 02:37:30,056 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 02:37:30,485 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-18 02:37:30,896 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-18 02:37:31,319 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-18 02:37:31,724 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-18 02:37:32,210 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-18 02:37:32,211 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-18 02:37:32,211 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-18 02:37:32,211 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-18 02:37:32,319 INFO Primera fecha de alquileres: 2025-01-06
2025-11-18 02:37:32,320 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-18 02:37:32,321 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-18 02:37:32,508 INFO Primera fecha de gastos: 2025-01-06
2025-11-18 02:37:32,508 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-18 02:37:32,508 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-18 02:37:32,616 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-18 02:37:32,616 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-18 02:37:33,131 INFO Obtenidos 0 equipos (activo=True)
2025-11-18 02:37:33,132 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:37:33,334 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:37:33,340 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:37:33,541 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:37:33,545 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-18'}
2025-11-18 02:37:33,673 INFO Obtenidos 62 pagos a operadores
2025-11-18 02:37:34,601 INFO Iniciando backup automático...
2025-11-18 02:37:34,601 INFO Iniciando proceso de backup...
2025-11-18 02:37:34,720 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 02:37:34,721 INFO Backup de 12 equipos completado
2025-11-18 02:37:34,721 ERROR Error al crear backup: 'FirebaseManager' object has no attribute 'obtener_transacciones'
2025-11-18 02:37:34,721 ERROR Error al crear backup automático
2025-11-18 02:37:35,248 INFO Obtenidos 74 abonos
2025-11-18 02:37:37,931 INFO Obtenidas 35 cuentas
2025-11-18 02:37:38,030 ERROR Error al obtener facturas pendientes para cliente 35: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgoKBnBhZ2FkbxABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 1036, in obtener_facturas_pendientes_cliente
    docs = list(query.stream())
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgoKBnBhZ2FkbxABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
2025-11-18 02:37:40,712 ERROR Error al obtener facturas pendientes para cliente 6: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgoKBnBhZ2FkbxABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 1036, in obtener_facturas_pendientes_cliente
    docs = list(query.stream())
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgoKBnBhZ2FkbxABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
2025-11-18 02:37:48,938 ERROR Error al obtener facturas pendientes para cliente 18: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgoKBnBhZ2FkbxABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 1036, in obtener_facturas_pendientes_cliente
    docs = list(query.stream())
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgoKBnBhZ2FkbxABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
2025-11-18 02:38:10,358 ERROR Error al obtener facturas pendientes para cliente 30: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgoKBnBhZ2FkbxABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
Traceback (most recent call last):
  File "D:\Dropbox\PROGAIN\EQUIPOS PyQT6_4.0\EQUIPOS-4.0\firebase_manager.py", line 1036, in obtener_facturas_pendientes_cliente
    docs = list(query.stream())
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\stream_generator.py", line 58, in __next__
    return self._generator.__next__()
           ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 410, in _make_stream
    response_iterator, expected_prefix = self._get_stream_iterator(
                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^
        transaction,
        ^^^^^^^^^^^^
    ...<2 lines>...
        explain_options,
        ^^^^^^^^^^^^^^^^
    )
    ^
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\query.py", line 260, in _get_stream_iterator
    response_iterator = self._client._firestore_api.run_query(
        request=request,
        metadata=self._client._rpc_metadata,
        **kwargs,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\cloud\firestore_v1\services\firestore\client.py", line 1624, in run_query
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "c:\Users\servi\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 174, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.FailedPrecondition: 400 The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/equipos-zoec/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9lcXVpcG9zLXpvZWMvZGF0YWJhc2VzLyhkZWZhdWx0KS9jb2xsZWN0aW9uR3JvdXBzL2FscXVpbGVyZXMvaW5kZXhlcy9fEAEaDgoKY2xpZW50ZV9pZBABGgoKBnBhZ2FkbxABGgkKBWZlY2hhEAEaDAoIX19uYW1lX18QAQ
2025-11-18 02:42:33,682 INFO Obtenidas 35 cuentas
2025-11-18 02:42:33,795 INFO Obtenidas 2 facturas pendientes para cliente 35
2025-11-18 02:42:37,588 INFO Obtenidas 0 facturas pendientes para cliente 6
2025-11-18 02:42:42,228 INFO Obtenidas 0 facturas pendientes para cliente 16
2025-11-18 02:42:51,121 INFO Obtenidos 74 abonos
2025-11-18 02:42:53,089 INFO Obtenidas 35 cuentas
2025-11-18 02:42:53,194 INFO Obtenidas 2 facturas pendientes para cliente 35
2025-11-18 02:42:59,292 INFO Obtenidas 0 facturas pendientes para cliente 6
2025-11-18 02:43:06,128 INFO Obtenidas 0 facturas pendientes para cliente 24
2025-11-18 02:43:08,544 INFO Obtenidas 0 facturas pendientes para cliente 16
2025-11-18 02:43:17,938 INFO Aplicación finalizada con exit_code=0
2025-11-18 02:57:54,802 INFO Configuración cargada desde config_equipos.json
2025-11-18 02:57:54,820 INFO Tema aplicado: Oscuro
2025-11-18 02:57:54,854 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-18 02:57:54,855 INFO Cliente de Firestore creado correctamente
2025-11-18 02:57:54,855 INFO Firebase Manager inicializado correctamente
2025-11-18 02:57:54,857 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-18 02:57:54,857 INFO Backup Manager inicializado correctamente
2025-11-18 02:57:54,857 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-18 02:57:54,857 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-18 02:57:55,234 INFO Ventana principal creada y mostrada
2025-11-18 02:57:55,275 INFO Cargando mapas de nombres...
2025-11-18 02:57:55,431 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-18 02:57:55,573 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-18 02:57:55,714 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 02:57:56,147 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-18 02:57:56,568 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-18 02:57:56,989 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-18 02:57:57,422 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-18 02:57:58,020 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-18 02:57:58,020 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-18 02:57:58,020 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-18 02:57:58,021 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-18 02:57:58,127 INFO Primera fecha de alquileres: 2025-01-06
2025-11-18 02:57:58,128 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-18 02:57:58,128 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-18 02:57:58,229 INFO Primera fecha de gastos: 2025-01-06
2025-11-18 02:57:58,229 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-18 02:57:58,229 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-18 02:57:58,362 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-18 02:57:58,362 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-18 02:57:58,844 INFO Obtenidos 0 equipos (activo=True)
2025-11-18 02:57:58,844 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:57:59,084 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:57:59,090 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:57:59,261 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 02:57:59,266 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-18'}
2025-11-18 02:57:59,387 INFO Obtenidos 62 pagos a operadores
2025-11-18 02:58:00,234 INFO Iniciando backup automático...
2025-11-18 02:58:00,234 INFO Iniciando proceso de backup...
2025-11-18 02:58:00,381 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 02:58:00,382 INFO Backup de 12 equipos completado
2025-11-18 02:58:00,382 ERROR Error al crear backup: 'FirebaseManager' object has no attribute 'obtener_transacciones'
2025-11-18 02:58:00,382 ERROR Error al crear backup automático
2025-11-18 02:58:01,330 INFO Obtenidos 74 abonos
2025-11-18 02:58:03,065 INFO Obtenidas 35 cuentas
2025-11-18 02:58:03,174 INFO Obtenidas 4 facturas pendientes para cliente 35
2025-11-18 02:58:11,063 INFO Obtenidas 18 facturas pendientes para cliente 16
2025-11-18 02:58:26,322 INFO Obtenidos 52 abonos
2025-11-18 02:59:44,285 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'cliente_id': 38}
2025-11-18 02:59:44,390 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'cliente_id': 38}
2025-11-18 02:59:44,392 WARNING No se encontraron alquileres con esos filtros.
2025-11-18 03:00:02,042 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'cliente_id': 16}
2025-11-18 03:00:02,225 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'cliente_id': 16}
2025-11-18 03:00:02,226 WARNING No se encontraron alquileres con esos filtros.
2025-11-18 03:00:05,386 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'cliente_id': 16}
2025-11-18 03:00:05,495 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'cliente_id': 16}
2025-11-18 03:00:05,496 WARNING No se encontraron alquileres con esos filtros.
2025-11-18 03:00:14,268 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'cliente_id': 1}
2025-11-18 03:00:14,368 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'cliente_id': 1}
2025-11-18 03:00:14,368 WARNING No se encontraron alquileres con esos filtros.
2025-11-18 03:00:32,329 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:00:32,526 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:00:37,883 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'cliente_id': 16}
2025-11-18 03:00:37,997 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'cliente_id': 16}
2025-11-18 03:00:37,998 WARNING No se encontraron alquileres con esos filtros.
2025-11-18 03:01:10,280 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:01:10,482 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:01:14,052 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'equipo_id': 3}
2025-11-18 03:01:14,224 INFO Obtenidos 78 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'equipo_id': 3}
2025-11-18 03:01:26,305 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'operador_id': 17}
2025-11-18 03:01:26,464 INFO Obtenidos 80 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'operador_id': 17}
2025-11-18 03:01:29,171 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'operador_id': 17}
2025-11-18 03:01:29,311 INFO Obtenidos 80 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'operador_id': 17}
2025-11-18 03:01:33,246 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'operador_id': 19}
2025-11-18 03:01:33,361 INFO Obtenidos 5 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'operador_id': 19}
2025-11-18 03:01:43,087 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'operador_id': 31}
2025-11-18 03:01:43,346 INFO Obtenidos 32 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'operador_id': 31}
2025-11-18 03:01:47,648 INFO Aplicación finalizada con exit_code=0
2025-11-18 03:07:39,372 INFO Configuración cargada desde config_equipos.json
2025-11-18 03:07:39,390 INFO Tema aplicado: Oscuro
2025-11-18 03:07:39,424 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-18 03:07:39,424 INFO Cliente de Firestore creado correctamente
2025-11-18 03:07:39,424 INFO Firebase Manager inicializado correctamente
2025-11-18 03:07:39,425 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-18 03:07:39,426 INFO Backup Manager inicializado correctamente
2025-11-18 03:07:39,426 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-18 03:07:39,426 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-18 03:07:39,918 INFO Ventana principal creada y mostrada
2025-11-18 03:07:39,920 INFO Cargando mapas de nombres...
2025-11-18 03:07:40,073 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-18 03:07:40,203 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-18 03:07:40,514 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 03:07:40,933 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-18 03:07:41,358 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-18 03:07:41,769 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-18 03:07:42,239 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-18 03:07:42,713 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-18 03:07:42,713 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-18 03:07:42,713 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-18 03:07:42,713 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-18 03:07:42,831 INFO Primera fecha de alquileres: 2025-01-06
2025-11-18 03:07:42,832 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:07:43,031 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:07:43,036 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-18 03:07:43,037 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-18 03:07:43,140 INFO Primera fecha de gastos: 2025-01-06
2025-11-18 03:07:43,141 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-18 03:07:43,141 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-18 03:07:43,257 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-18 03:07:43,258 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-18 03:07:43,731 INFO Obtenidos 0 equipos (activo=True)
2025-11-18 03:07:43,731 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:07:43,915 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:07:43,921 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:07:44,136 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:07:44,141 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-18'}
2025-11-18 03:07:44,271 INFO Obtenidos 62 pagos a operadores
2025-11-18 03:07:51,785 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'equipo_id': '5'}
2025-11-18 03:07:51,890 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'equipo_id': '5'}
2025-11-18 03:07:51,892 WARNING No se encontraron alquileres con esos filtros.
2025-11-18 03:07:58,139 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'equipo_id': '4'}
2025-11-18 03:07:58,254 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'equipo_id': '4'}
2025-11-18 03:07:58,255 WARNING No se encontraron alquileres con esos filtros.
2025-11-18 03:08:01,177 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:08:01,473 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:08:03,162 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'cliente_id': '30'}
2025-11-18 03:08:03,295 INFO Obtenidos 37 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'cliente_id': '30'}
2025-11-18 03:08:14,260 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'equipo_id': '5', 'cliente_id': '30'}
2025-11-18 03:08:14,360 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'equipo_id': '5', 'cliente_id': '30'}
2025-11-18 03:08:14,361 WARNING No se encontraron alquileres con esos filtros.
2025-11-18 03:09:07,365 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'equipo_id': 5}
2025-11-18 03:09:07,477 INFO Obtenidos 18 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'equipo_id': 5}
2025-11-18 03:09:19,461 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'cliente_id': '30'}
2025-11-18 03:09:19,587 INFO Obtenidos 37 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'cliente_id': '30'}
2025-11-18 03:09:43,516 INFO Alquiler ab98d99cfebe41ac8795e9c2482dd740 actualizado
2025-11-18 03:09:44,785 INFO Alquiler ab98d99cfebe41ac8795e9c2482dd740 actualizado
2025-11-18 03:09:44,796 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'cliente_id': '30'}
2025-11-18 03:09:44,932 INFO Obtenidos 37 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'cliente_id': '30'}
2025-11-18 03:12:20,071 INFO Configuración cargada desde config_equipos.json
2025-11-18 03:12:20,091 INFO Tema aplicado: Oscuro
2025-11-18 03:12:20,130 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-18 03:12:20,130 INFO Cliente de Firestore creado correctamente
2025-11-18 03:12:20,130 INFO Firebase Manager inicializado correctamente
2025-11-18 03:12:20,131 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-18 03:12:20,131 INFO Backup Manager inicializado correctamente
2025-11-18 03:12:20,132 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-18 03:12:20,132 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-18 03:12:20,566 INFO Ventana principal creada y mostrada
2025-11-18 03:12:20,628 INFO Cargando mapas de nombres...
2025-11-18 03:12:20,779 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-18 03:12:20,914 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-18 03:12:21,089 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 03:12:21,510 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-18 03:12:21,925 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-18 03:12:22,351 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-18 03:12:22,768 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-18 03:12:23,240 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-18 03:12:23,240 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-18 03:12:23,240 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-18 03:12:23,240 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-18 03:12:23,346 INFO Primera fecha de alquileres: 2025-01-06
2025-11-18 03:12:23,347 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:12:23,561 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:12:23,567 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-18 03:12:23,567 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-18 03:12:23,668 INFO Primera fecha de gastos: 2025-01-06
2025-11-18 03:12:23,668 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-18 03:12:23,668 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-18 03:12:23,774 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-18 03:12:23,775 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-18 03:12:24,273 INFO Obtenidos 0 equipos (activo=True)
2025-11-18 03:12:24,273 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:12:24,470 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:12:24,476 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:12:24,713 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:12:24,717 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-18'}
2025-11-18 03:12:24,853 INFO Obtenidos 62 pagos a operadores
2025-11-18 03:12:28,304 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'equipo_id': '5'}
2025-11-18 03:12:28,389 INFO Obtenidos 1 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'equipo_id': '5'}
2025-11-18 03:12:36,670 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'equipo_id': '4'}
2025-11-18 03:12:36,773 INFO Obtenidos 0 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'equipo_id': '4'}
2025-11-18 03:12:36,773 WARNING No se encontraron alquileres con esos filtros.
2025-11-18 03:15:29,180 INFO Aplicación finalizada con exit_code=0
2025-11-18 03:15:50,424 INFO Configuración cargada desde config_equipos.json
2025-11-18 03:15:50,442 INFO Tema aplicado: Oscuro
2025-11-18 03:15:50,477 INFO Firebase inicializado con proyecto: equipos-zoec
2025-11-18 03:15:50,478 INFO Cliente de Firestore creado correctamente
2025-11-18 03:15:50,478 INFO Firebase Manager inicializado correctamente
2025-11-18 03:15:50,478 INFO Estructura de BD de backup creada en: ./backups/equipos_backup.db
2025-11-18 03:15:50,478 INFO Backup Manager inicializado correctamente
2025-11-18 03:15:50,479 INFO Storage inicializado con bucket: equipos-zoec.firebasestorage.app
2025-11-18 03:15:50,479 INFO Storage Manager inicializado correctamente con bucket: equipos-zoec.firebasestorage.app
2025-11-18 03:15:50,923 INFO Ventana principal creada y mostrada
2025-11-18 03:15:50,963 INFO Cargando mapas de nombres...
2025-11-18 03:15:51,106 DEBUG Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-11-18 03:15:51,234 DEBUG https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-11-18 03:15:51,354 INFO Obtenidos 12 equipos (activo=None)
2025-11-18 03:15:51,775 INFO Obtenidas 22 entidades (tipo=Cliente, activo=None)
2025-11-18 03:15:52,187 INFO Obtenidas 14 entidades (tipo=Operador, activo=None)
2025-11-18 03:15:52,599 INFO Obtenido mapa para [cuentas]. Total: 35 entradas.
2025-11-18 03:15:53,026 INFO Obtenido mapa para [categorias]. Total: 55 entradas.
2025-11-18 03:15:53,500 INFO Obtenido mapa para [subcategorias]. Total: 245 entradas.
2025-11-18 03:15:53,500 INFO Mapas cargados. Actualizando título y poblando tabs...
2025-11-18 03:15:53,500 INFO Dashboard: Mapas recibidos. Poblando filtros...
2025-11-18 03:15:53,500 INFO RegistroAlquileres: Mapas recibidos. Poblando filtros...
2025-11-18 03:15:53,618 INFO Primera fecha de alquileres: 2025-01-06
2025-11-18 03:15:53,620 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:15:53,826 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:15:53,831 INFO Fecha 'Desde' inicializada con primera transacción: 2025-01-06
2025-11-18 03:15:53,831 INFO GastosEquipos: Mapas recibidos. Poblando filtros...
2025-11-18 03:15:53,941 INFO Primera fecha de gastos: 2025-01-06
2025-11-18 03:15:53,941 INFO Fecha 'Desde' inicializada con primera transacción de gastos: 2025-01-06
2025-11-18 03:15:53,942 INFO PagosOperadores: Mapas recibidos. Poblando filtros...
2025-11-18 03:15:54,042 INFO Primera fecha de pagos a operadores: 2025-01-18
2025-11-18 03:15:54,042 INFO Fecha 'Desde' inicializada con primera transacción de pagos: 2025-01-18
2025-11-18 03:15:54,503 INFO Obtenidos 0 equipos (activo=True)
2025-11-18 03:15:54,504 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:15:54,732 INFO Obtenidos 224 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:15:54,739 INFO Cargando gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:15:54,944 INFO Obtenidos 297 gastos con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18'}
2025-11-18 03:15:54,949 INFO Cargando pagos a operadores con filtros: {'fecha_inicio': '2025-01-18', 'fecha_fin': '2025-11-18'}
2025-11-18 03:15:55,088 INFO Obtenidos 62 pagos a operadores
2025-11-18 03:15:59,001 INFO Cargando alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'equipo_id': '3'}
2025-11-18 03:15:59,142 INFO Obtenidos 78 alquileres con filtros: {'fecha_inicio': '2025-01-06', 'fecha_fin': '2025-11-18', 'equipo_id': '3'}
2025-11-18 03:19:27,254 INFO Aplicación finalizada con exit_code=0
